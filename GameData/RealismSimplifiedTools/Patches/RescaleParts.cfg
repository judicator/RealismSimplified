// ===============================================================================
// Universal parts rescaling patch
// ===============================================================================
//
// Handles:
// - setting correct rescaleFactor
// - calculating new tanks volume for B9PartSwitch
//   WARNING: resources amount (inside @RESOURSE nodes) will not be changed!
// - calculating new cargo part packed volume
// - correcting top and bottom attachment nodes sizes
// - correcting bulkheadProfiles
// - correcting fairings scales (only stock fairing for now)
// - correcting scales and offsets for RealPlume and Waterfall plumes
// - correcting default scale for TweakScale (for parts, using any "stack" TweakScale type)
//
// Does NOT handle:
// - correcting part mass, cost, engine thrust, etc.

// ===============================================================================
// Rescale values
// ===============================================================================
@PART[*]:HAS[~RS_IgnorePart[],~RS_IgnoreForRescale[],#RS_RescaleFactor[>0]]:FOR[RealismSimplifiedRescale]
{
	%RS_RescaleFactorQuadratic = #$RS_RescaleFactor$
	@RS_RescaleFactorQuadratic != 2
	%RS_RescaleFactorCubic = #$RS_RescaleFactor$
	@RS_RescaleFactorCubic != 3
}
@PART[*]:HAS[~RS_IgnorePart[],~RS_IgnoreForRescale[],#RS_RescaleFactor[1]]:FOR[RealismSimplifiedRescale]
{
	%RS_RescaleOnlyPlumes = true
}
@PART[*]:HAS[~RS_IgnorePart[],~RS_IgnoreForRescale[],#RS_RescaleFactor[1.0]]:FOR[RealismSimplifiedRescale]
{
	%RS_RescaleOnlyPlumes = true
}


// ===============================================================================
// Part model resize
// ===============================================================================
@PART[*]:HAS[~RS_IgnorePart[],~RS_IgnoreForRescale[],~RS_RescaleOnlyPlumes[],#RS_RescaleFactor[>0],~rescaleFactor[],!MODULE[ModuleProceduralFairing]]:FOR[RealismSimplifiedRescale]
{
	rescaleFactor = 1.0
}
@PART[*]:HAS[~RS_IgnorePart[],~RS_IgnoreForRescale[],~RS_RescaleOnlyPlumes[],#RS_RescaleFactor[>0],!MODULE[ModuleProceduralFairing]]:FOR[RealismSimplifiedRescale]
{
	@rescaleFactor *= #$RS_RescaleFactor$
}
// Fairings
@PART[*]:HAS[~RS_IgnorePart[],~RS_IgnoreForRescale[],~RS_RescaleOnlyPlumes[],#RS_RescaleFactor[>0],@MODULE[ModuleProceduralFairing]:HAS[#UnitAreaMass[>0]]]:FOR[RealismSimplifiedRescale]
{
	@MODULE[ModuleProceduralFairing]:HAS[#UnitAreaMass[>0]]
	{
		@UnitAreaMass *= #$/RS_RescaleFactorQuadratic$
	}
}
@PART[*]:HAS[~RS_IgnorePart[],~RS_IgnoreForRescale[],~RS_RescaleOnlyPlumes[],#RS_RescaleFactor[>0],@MODULE[ModuleProceduralFairing]:HAS[#baseRadius[>0]]]:FOR[RealismSimplifiedRescale]
{
	@MODULE[ModuleProceduralFairing]:HAS[#baseRadius[>0]]
	{
		@baseRadius *= #$/RS_RescaleFactor$
	}
}
@PART[*]:HAS[~RS_IgnorePart[],~RS_IgnoreForRescale[],~RS_RescaleOnlyPlumes[],#RS_RescaleFactor[>0],@MODULE[ModuleProceduralFairing]:HAS[#maxRadius[>0]]]:FOR[RealismSimplifiedRescale]
{
	@MODULE[ModuleProceduralFairing]:HAS[#maxRadius[>0]]
	{
		@maxRadius *= #$/RS_RescaleFactor$
	}
}
@PART[*]:HAS[~RS_IgnorePart[],~RS_IgnoreForRescale[],~RS_RescaleOnlyPlumes[],#RS_RescaleFactor[>0],@MODULE[ModuleProceduralFairing]:HAS[#pivot[*]]]:FOR[RealismSimplifiedRescale]
{
	@MODULE[ModuleProceduralFairing]:HAS[#pivot[*]]
	{
		@pivot[0] *= #$/RS_RescaleFactor$
		@pivot[1] *= #$/RS_RescaleFactor$
		@pivot[2] *= #$/RS_RescaleFactor$
	}
}
@PART[*]:HAS[~RS_IgnorePart[],~RS_IgnoreForRescale[],~RS_RescaleOnlyPlumes[],#RS_RescaleFactor[>0],@MODULE[ModuleProceduralFairing],@MODEL:HAS[~scale[*]]]:FOR[RealismSimplifiedRescale]
{
	@MODEL:HAS[~scale[*]],*
	{
		scale = 1.0, 1.0, 1.0
	}
}
@PART[*]:HAS[~RS_IgnorePart[],~RS_IgnoreForRescale[],~RS_RescaleOnlyPlumes[],#RS_RescaleFactor[>0],@MODULE[ModuleProceduralFairing],@MODEL:HAS[#scale[*]]]:FOR[RealismSimplifiedRescale]
{
	@MODEL:HAS[#scale[*]],*
	{
		@scale[0] *= #$../RS_RescaleFactor$
		@scale[1] *= #$../RS_RescaleFactor$
		@scale[2] *= #$../RS_RescaleFactor$
	}
}
@PART[*]:HAS[~RS_IgnorePart[],~RS_IgnoreForRescale[],~RS_RescaleOnlyPlumes[],#RS_RescaleFactor[>0],@MODULE[ModuleProceduralFairing],@MODEL:HAS[#position[*]]]:FOR[RealismSimplifiedRescale]
{
	@MODEL:HAS[#position[*]],*
	{
		@position[0] *= #$../RS_RescaleFactor$
		@position[1] *= #$../RS_RescaleFactor$
		@position[2] *= #$../RS_RescaleFactor$
	}
}
// Fairing nodes
@PART[*]:HAS[~RS_IgnorePart[],~RS_IgnoreForRescale[],~RS_RescaleOnlyPlumes[],#RS_RescaleFactor[>0],@MODULE[ModuleProceduralFairing],#node_stack_top[*]]:FOR[RealismSimplifiedRescale]
{
	@node_stack_top[0] *= #$RS_RescaleFactor$
	@node_stack_top[1] *= #$RS_RescaleFactor$
	@node_stack_top[2] *= #$RS_RescaleFactor$
}
@PART[*]:HAS[~RS_IgnorePart[],~RS_IgnoreForRescale[],~RS_RescaleOnlyPlumes[],#RS_RescaleFactor[>0],@MODULE[ModuleProceduralFairing],#node_stack_bottom[*]]:FOR[RealismSimplifiedRescale]
{
	@node_stack_bottom[0] *= #$RS_RescaleFactor$
	@node_stack_bottom[1] *= #$RS_RescaleFactor$
	@node_stack_bottom[2] *= #$RS_RescaleFactor$
}
@PART[*]:HAS[~RS_IgnorePart[],~RS_IgnoreForRescale[],~RS_RescaleOnlyPlumes[],#RS_RescaleFactor[>0],@MODULE[ModuleProceduralFairing],#node_attach[*]]:FOR[RealismSimplifiedRescale]
{
	@node_attach[0] *= #$RS_RescaleFactor$
	@node_attach[1] *= #$RS_RescaleFactor$
	@node_attach[2] *= #$RS_RescaleFactor$
}
@PART[*]:HAS[~RS_IgnorePart[],~RS_IgnoreForRescale[],~RS_RescaleOnlyPlumes[],#RS_RescaleFactor[>0],@MODULE[ModuleProceduralFairing],#node_stack_interstage01a[*]]:FOR[RealismSimplifiedRescale]
{
	@node_stack_interstage01a[0] *= #$RS_RescaleFactor$
	@node_stack_interstage01a[1] *= #$RS_RescaleFactor$
	@node_stack_interstage01a[2] *= #$RS_RescaleFactor$
}
@PART[*]:HAS[~RS_IgnorePart[],~RS_IgnoreForRescale[],~RS_RescaleOnlyPlumes[],#RS_RescaleFactor[>0],@MODULE[ModuleProceduralFairing],#node_stack_interstage01b[*]]:FOR[RealismSimplifiedRescale]
{
	@node_stack_interstage01b[0] *= #$RS_RescaleFactor$
	@node_stack_interstage01b[1] *= #$RS_RescaleFactor$
	@node_stack_interstage01b[2] *= #$RS_RescaleFactor$
}
@PART[*]:HAS[~RS_IgnorePart[],~RS_IgnoreForRescale[],~RS_RescaleOnlyPlumes[],#RS_RescaleFactor[>0],@MODULE[ModuleProceduralFairing],#node_stack_interstage02a[*]]:FOR[RealismSimplifiedRescale]
{
	@node_stack_interstage02a[0] *= #$RS_RescaleFactor$
	@node_stack_interstage02a[1] *= #$RS_RescaleFactor$
	@node_stack_interstage02a[2] *= #$RS_RescaleFactor$
}
@PART[*]:HAS[~RS_IgnorePart[],~RS_IgnoreForRescale[],~RS_RescaleOnlyPlumes[],#RS_RescaleFactor[>0],@MODULE[ModuleProceduralFairing],#node_stack_interstage02b[*]]:FOR[RealismSimplifiedRescale]
{
	@node_stack_interstage02b[0] *= #$RS_RescaleFactor$
	@node_stack_interstage02b[1] *= #$RS_RescaleFactor$
	@node_stack_interstage02b[2] *= #$RS_RescaleFactor$
}
@PART[*]:HAS[~RS_IgnorePart[],~RS_IgnoreForRescale[],~RS_RescaleOnlyPlumes[],#RS_RescaleFactor[>0],@MODULE[ModuleProceduralFairing],#node_stack_interstage03a[*]]:FOR[RealismSimplifiedRescale]
{
	@node_stack_interstage03a[0] *= #$RS_RescaleFactor$
	@node_stack_interstage03a[1] *= #$RS_RescaleFactor$
	@node_stack_interstage03a[2] *= #$RS_RescaleFactor$
}
@PART[*]:HAS[~RS_IgnorePart[],~RS_IgnoreForRescale[],~RS_RescaleOnlyPlumes[],#RS_RescaleFactor[>0],@MODULE[ModuleProceduralFairing],#node_stack_interstage03b[*]]:FOR[RealismSimplifiedRescale]
{
	@node_stack_interstage03b[0] *= #$RS_RescaleFactor$
	@node_stack_interstage03b[1] *= #$RS_RescaleFactor$
	@node_stack_interstage03b[2] *= #$RS_RescaleFactor$
}
@PART[*]:HAS[~RS_IgnorePart[],~RS_IgnoreForRescale[],~RS_RescaleOnlyPlumes[],#RS_RescaleFactor[>0],@MODULE[ModuleProceduralFairing],#node_stack_interstage04a[*]]:FOR[RealismSimplifiedRescale]
{
	@node_stack_interstage04a[0] *= #$RS_RescaleFactor$
	@node_stack_interstage04a[1] *= #$RS_RescaleFactor$
	@node_stack_interstage04a[2] *= #$RS_RescaleFactor$
}
@PART[*]:HAS[~RS_IgnorePart[],~RS_IgnoreForRescale[],~RS_RescaleOnlyPlumes[],#RS_RescaleFactor[>0],@MODULE[ModuleProceduralFairing],#node_stack_interstage04b[*]]:FOR[RealismSimplifiedRescale]
{
	@node_stack_interstage04b[0] *= #$RS_RescaleFactor$
	@node_stack_interstage04b[1] *= #$RS_RescaleFactor$
	@node_stack_interstage04b[2] *= #$RS_RescaleFactor$
}
@PART[*]:HAS[~RS_IgnorePart[],~RS_IgnoreForRescale[],~RS_RescaleOnlyPlumes[],#RS_RescaleFactor[>0],@MODULE[ModuleProceduralFairing],#node_stack_interstage05a[*]]:FOR[RealismSimplifiedRescale]
{
	@node_stack_interstage05a[0] *= #$RS_RescaleFactor$
	@node_stack_interstage05a[1] *= #$RS_RescaleFactor$
	@node_stack_interstage05a[2] *= #$RS_RescaleFactor$
}
@PART[*]:HAS[~RS_IgnorePart[],~RS_IgnoreForRescale[],~RS_RescaleOnlyPlumes[],#RS_RescaleFactor[>0],@MODULE[ModuleProceduralFairing],#node_stack_interstage05b[*]]:FOR[RealismSimplifiedRescale]
{
	@node_stack_interstage05b[0] *= #$RS_RescaleFactor$
	@node_stack_interstage05b[1] *= #$RS_RescaleFactor$
	@node_stack_interstage05b[2] *= #$RS_RescaleFactor$
}
@PART[*]:HAS[~RS_IgnorePart[],~RS_IgnoreForRescale[],~RS_RescaleOnlyPlumes[],#RS_RescaleFactor[>0],@MODULE[ModuleProceduralFairing],#node_stack_interstage06a[*]]:FOR[RealismSimplifiedRescale]
{
	@node_stack_interstage06a[0] *= #$RS_RescaleFactor$
	@node_stack_interstage06a[1] *= #$RS_RescaleFactor$
	@node_stack_interstage06a[2] *= #$RS_RescaleFactor$
}
@PART[*]:HAS[~RS_IgnorePart[],~RS_IgnoreForRescale[],~RS_RescaleOnlyPlumes[],#RS_RescaleFactor[>0],@MODULE[ModuleProceduralFairing],#node_stack_interstage06b[*]]:FOR[RealismSimplifiedRescale]
{
	@node_stack_interstage06b[0] *= #$RS_RescaleFactor$
	@node_stack_interstage06b[1] *= #$RS_RescaleFactor$
	@node_stack_interstage06b[2] *= #$RS_RescaleFactor$
}
// Decouple effect
@PART[*]:HAS[~RS_IgnorePart[],~RS_IgnoreForRescale[],~RS_RescaleOnlyPlumes[],#RS_RescaleFactor[>0],@MODULE[ModuleProceduralFairing],#fx_gasBurst_white[*]]:FOR[RealismSimplifiedRescale]
{
	@fx_gasBurst_white[0] *= #$RS_RescaleFactor$
	@fx_gasBurst_white[1] *= #$RS_RescaleFactor$
	@fx_gasBurst_white[2] *= #$RS_RescaleFactor$
}
// Cargo bay
@PART[*]:HAS[~RS_IgnorePart[],~RS_IgnoreForRescale[],~RS_RescaleOnlyPlumes[],#RS_RescaleFactor[>0],@MODULE[ModuleCargoBay]:HAS[#lookupRadius[>0]]]:FOR[RealismSimplifiedRescale]
{
	@MODULE[ModuleCargoBay]:HAS[#lookupRadius[>0]],*
	{
		@lookupRadius *= #$/RS_RescaleFactor$
	}
}
// ModuleSeeThroughObject
@PART[*]:HAS[~RS_IgnorePart[],~RS_IgnoreForRescale[],~RS_RescaleOnlyPlumes[],#RS_RescaleFactor[>0],@MODULE[ModuleSeeThroughObject]:HAS[#screenRadius[>0]]]:FOR[RealismSimplifiedRescale]
{
	@MODULE[ModuleSeeThroughObject]:HAS[#screenRadius[>0]],*
	{
		@screenRadius *= #$/RS_RescaleFactor$
	}
}


// ===============================================================================
// Fuel tank volume
// ===============================================================================
// RS_TotalCap
@PART[*]:HAS[~RS_IgnorePart[],~RS_IgnoreForRescale[],~RS_RescaleOnlyPlumes[],#RS_RescaleFactor[>0],#RS_TotalCap[>0]]:AFTER[zzzRealismSimplified]
{
	@RS_TotalCap *= #$RS_RescaleFactorCubic$
}
@PART[*]:HAS[~RS_IgnorePart[],~RS_IgnoreForRescale[],~RS_RescaleOnlyPlumes[],#RS_RescaleFactor[>0],#RS_PrimaryFuelTankVolume[>0]]:AFTER[zzzRealismSimplified]
{
	@RS_PrimaryFuelTankVolume *= #$RS_RescaleFactorCubic$
}
@PART[*]:HAS[~RS_IgnorePart[],~RS_IgnoreForRescale[],~RS_RescaleOnlyPlumes[],#RS_RescaleFactor[>0],#RS_AuxiliaryFuelTankVolume[>0]]:AFTER[zzzRealismSimplified]
{
	@RS_AuxiliaryFuelTankVolume *= #$RS_RescaleFactorCubic$
}
// B9PartSwitch with baseVolume or subtypes with volumeAdded
@PART[*]:HAS[~RS_IgnorePart[],~RS_IgnoreForRescale[],~RS_RescaleOnlyPlumes[],#RS_RescaleFactor[>0],@MODULE[ModuleB9PartSwitch]:HAS[#baseVolume[>0]]]:NEEDS[B9PartSwitch]:AFTER[zzzRealismSimplified]
{
	@MODULE[ModuleB9PartSwitch]:HAS[#baseVolume[>0]],*
	{
		@baseVolume *= #$/RS_RescaleFactorCubic$
	}
}
@PART[*]:HAS[~RS_IgnorePart[],~RS_IgnoreForRescale[],~RS_RescaleOnlyPlumes[],#RS_RescaleFactor[>0],@MODULE[ModuleB9PartSwitch]:HAS[#baseVolume[*],@SUBTYPE[*]:HAS[#volumeAdded[*]]]]:NEEDS[B9PartSwitch]:AFTER[zzzRealismSimplified]
{
	@MODULE[ModuleB9PartSwitch]:HAS[#baseVolume[*]],*
	{
		@SUBTYPE[*]:HAS[#volumeAdded[*]],*
		{
			@volumeAdded *= #$/RS_RescaleFactorCubic$
		}
	}
}


// ===============================================================================
// Packed volume for cargo part
// ===============================================================================
@PART[*]:HAS[~RS_IgnorePart[],~RS_IgnoreForRescale[],~RS_RescaleOnlyPlumes[],#RS_RescaleFactor[>0],@MODULE[ModuleCargoPart]:HAS[#packedVolume[>0]]]:FOR[RealismSimplifiedRescale]
{
	@MODULE[ModuleCargoPart]
	{
		@packedVolume *= #$/RS_RescaleFactorCubic$
	}
}


// ===============================================================================
// Attachment nodes
// ===============================================================================

// Top (simple syntax)
@PART[*]:HAS[~RS_IgnorePart[],~RS_IgnoreForRescale[],~RS_RescaleOnlyPlumes[],#RS_RescaleFactor[>0],#node_stack_top[*]]:FOR[RealismSimplifiedRescale]
{
	@node_stack_top ^= :^([\d\.-]+\s*,\s*[\d\.-]+\s*,\s*[\d\.-]+\s*,\s*[\d\.-]+\s*,\s*[\d\.-]+\s*,\s*[\d\.-]+)$:$1, 1:
}
@PART[*]:HAS[~RS_IgnorePart[],~RS_IgnoreForRescale[],~RS_RescaleOnlyPlumes[],#RS_RescaleFactor[>0],#node_stack_top[*],~RS_NodeTopSize[]]:FOR[RealismSimplifiedRescale]
{
	RS_NodeTopSize = #$node_stack_top[6]$
	@RS_NodeTopSize ^= :^$:1:
	@RS_NodeTopSize ^= :^(\d+)\..*$:$1:
	@RS_NodeTopSize ^= :\D::
	@RS_NodeTopSize ^= :^0$:0.5:
}
@PART[*]:HAS[~RS_IgnorePart[],~RS_IgnoreForRescale[],~RS_RescaleOnlyPlumes[],#RS_RescaleFactor[<1],#node_stack_top[*],#RS_NodeTopSize[*]]:FOR[RealismSimplifiedRescale]
{
	@RS_NodeTopSize *= 0.9
}
@PART[*]:HAS[~RS_IgnorePart[],~RS_IgnoreForRescale[],~RS_RescaleOnlyPlumes[],#RS_RescaleFactor[>1],#node_stack_top[*],#RS_NodeTopSize[*]]:FOR[RealismSimplifiedRescale]
{
	@RS_NodeTopSize *= 1.1
}
@PART[*]:HAS[~RS_IgnorePart[],~RS_IgnoreForRescale[],~RS_RescaleOnlyPlumes[],#RS_RescaleFactor[>0],#node_stack_top[*],#RS_NodeTopSize[*]]:FOR[RealismSimplifiedRescale]
{
	@RS_NodeTopSize *= #$RS_RescaleFactor$
	@RS_NodeTopSize ^= :^(\d+)\.[^56789]\d*$:$1:
	@RS_NodeTopSize ^= :^(\d+)\.[56789]\d*$:$1+increment:
}
@PART[*]:HAS[~RS_IgnorePart[],~RS_IgnoreForRescale[],~RS_RescaleOnlyPlumes[],#RS_RescaleFactor[>0],#node_stack_top[*],#RS_NodeTopSize[*+increment]]:FOR[RealismSimplifiedRescale]
{
    @RS_NodeTopSize ^= :\+increment$::
    @RS_NodeTopSize += 1
}
@PART[*]:HAS[~RS_IgnorePart[],~RS_IgnoreForRescale[],~RS_RescaleOnlyPlumes[],#RS_RescaleFactor[>0],#node_stack_top[*],#RS_NodeTopSize[*]]:FOR[RealismSimplifiedRescale]
{
	@node_stack_top[6] = #$RS_NodeTopSize$
}

// Top (simple syntax, for part variants)
@PART[*]:HAS[~RS_IgnorePart[],~RS_IgnoreForRescale[],~RS_RescaleOnlyPlumes[],#RS_RescaleFactor[>0],@MODULE[ModulePartVariants]:HAS[@VARIANT:HAS[@NODES:HAS[#node_stack_top[*]]]]]:FOR[RealismSimplifiedRescale]
{
	@MODULE[ModulePartVariants]
	{
		@VARIANT:HAS[@NODES],*
		{
			@NODES:HAS[#node_stack_top[*]]
			{
				@node_stack_top ^= :^([\d\.-]+\s*,\s*[\d\.-]+\s*,\s*[\d\.-]+\s*,\s*[\d\.-]+\s*,\s*[\d\.-]+\s*,\s*[\d\.-]+)$:$1, 1:
				@node_stack_top[0] *= #$/RS_RescaleFactor$
				@node_stack_top[1] *= #$/RS_RescaleFactor$
				@node_stack_top[2] *= #$/RS_RescaleFactor$
				%RS_NodeTopSize = #$node_stack_top[6]$
				@RS_NodeTopSize ^= :^$:1:
				@RS_NodeTopSize ^= :^(\d+)\..*$:$1:
				@RS_NodeTopSize ^= :\D::
				@RS_NodeTopSize ^= :^0$:0.5:
			}
		}
	}
}
@PART[*]:HAS[~RS_IgnorePart[],~RS_IgnoreForRescale[],~RS_RescaleOnlyPlumes[],#RS_RescaleFactor[<1],@MODULE[ModulePartVariants]:HAS[@VARIANT:HAS[@NODES:HAS[#node_stack_top[*]]]]]:FOR[RealismSimplifiedRescale]
{
	@MODULE[ModulePartVariants]
	{
		@VARIANT:HAS[@NODES],*
		{
			@NODES:HAS[#node_stack_top[*],#RS_NodeTopSize[*]]
			{
				@RS_NodeTopSize *= 0.9
			}
		}
	}
}
@PART[*]:HAS[~RS_IgnorePart[],~RS_IgnoreForRescale[],~RS_RescaleOnlyPlumes[],#RS_RescaleFactor[>1],@MODULE[ModulePartVariants]:HAS[@VARIANT:HAS[@NODES:HAS[#node_stack_top[*]]]]]:FOR[RealismSimplifiedRescale]
{
	@MODULE[ModulePartVariants]
	{
		@VARIANT:HAS[@NODES],*
		{
			@NODES:HAS[#node_stack_top[*],#RS_NodeTopSize[*]]
			{
				@RS_NodeTopSize *= 1.1
			}
		}
	}
}
@PART[*]:HAS[~RS_IgnorePart[],~RS_IgnoreForRescale[],~RS_RescaleOnlyPlumes[],#RS_RescaleFactor[>0],@MODULE[ModulePartVariants]:HAS[@VARIANT:HAS[@NODES:HAS[#node_stack_top[*]]]]]:FOR[RealismSimplifiedRescale]
{
	@MODULE[ModulePartVariants]
	{
		@VARIANT:HAS[@NODES],*
		{
			@NODES:HAS[#node_stack_top[*],#RS_NodeTopSize[*]]
			{
				@RS_NodeTopSize *= #$/RS_RescaleFactor$
				@RS_NodeTopSize ^= :^(\d+)\.[^56789]\d*$:$1:
				@RS_NodeTopSize ^= :^(\d+)\.[56789]\d*$:$1+increment:
			}
		}
	}
}
@PART[*]:HAS[~RS_IgnorePart[],~RS_IgnoreForRescale[],~RS_RescaleOnlyPlumes[],#RS_RescaleFactor[>0],@MODULE[ModulePartVariants]:HAS[@VARIANT:HAS[@NODES:HAS[#node_stack_top[*]]]]]:FOR[RealismSimplifiedRescale]
{
	@MODULE[ModulePartVariants]
	{
		@VARIANT:HAS[@NODES],*
		{
			@NODES:HAS[#node_stack_top[*],#RS_NodeTopSize[*+increment]]
			{
				 @RS_NodeTopSize ^= :\+increment$::
				 @RS_NodeTopSize += 1
			}
		}
	}
}
@PART[*]:HAS[~RS_IgnorePart[],~RS_IgnoreForRescale[],~RS_RescaleOnlyPlumes[],#RS_RescaleFactor[>0],@MODULE[ModulePartVariants]:HAS[@VARIANT:HAS[@NODES:HAS[#node_stack_top[*]]]]]:FOR[RealismSimplifiedRescale]
{
	@MODULE[ModulePartVariants]
	{
		@VARIANT:HAS[@NODES],*
		{
			@NODES:HAS[#node_stack_top[*],#RS_NodeTopSize[*]]
			{
				 @node_stack_top[6] = #$RS_NodeTopSize$
				 !RS_NodeTopSize = DELETE
			}
		}
	}
}

// Bottom (simple syntax)
@PART[*]:HAS[~RS_IgnorePart[],~RS_IgnoreForRescale[],~RS_RescaleOnlyPlumes[],#RS_RescaleFactor[>0],#node_stack_bottom[*],~RS_NodeBottomSize[]]:FOR[RealismSimplifiedRescale]
{
	@node_stack_bottom ^= :^([\d\.-]+\s*,\s*[\d\.-]+\s*,\s*[\d\.-]+\s*,\s*[\d\.-]+\s*,\s*[\d\.-]+\s*,\s*[\d\.-]+)$:$1, 1:
}
@PART[*]:HAS[~RS_IgnorePart[],~RS_IgnoreForRescale[],~RS_RescaleOnlyPlumes[],#RS_RescaleFactor[>0],#node_stack_bottom[*],~RS_NodeBottomSize[]]:FOR[RealismSimplifiedRescale]
{
	RS_NodeBottomSize = #$node_stack_bottom[6]$
	@RS_NodeBottomSize ^= :^$:1:
	@RS_NodeBottomSize ^= :^(\d+)\..*$:$1:
	@RS_NodeBottomSize ^= :\D::
	@RS_NodeBottomSize ^= :^0$:0.5:
}
@PART[*]:HAS[~RS_IgnorePart[],~RS_IgnoreForRescale[],~RS_RescaleOnlyPlumes[],#RS_RescaleFactor[<1],#node_stack_bottom[*],#RS_NodeBottomSize[*]]:FOR[RealismSimplifiedRescale]
{
	@RS_NodeBottomSize *= 0.9
}
@PART[*]:HAS[~RS_IgnorePart[],~RS_IgnoreForRescale[],~RS_RescaleOnlyPlumes[],#RS_RescaleFactor[>1],#node_stack_bottom[*],#RS_NodeBottomSize[*]]:FOR[RealismSimplifiedRescale]
{
	@RS_NodeBottomSize *= 1.1
}
@PART[*]:HAS[~RS_IgnorePart[],~RS_IgnoreForRescale[],~RS_RescaleOnlyPlumes[],#RS_RescaleFactor[>0],#node_stack_bottom[*],#RS_NodeBottomSize[*]]:FOR[RealismSimplifiedRescale]
{
	@RS_NodeBottomSize *= #$RS_RescaleFactor$
	@RS_NodeBottomSize ^= :^(\d+)\.[^56789]\d*$:$1:
	@RS_NodeBottomSize ^= :^(\d+)\.[56789]\d*$:$1+increment:
}
@PART[*]:HAS[~RS_IgnorePart[],~RS_IgnoreForRescale[],~RS_RescaleOnlyPlumes[],#RS_RescaleFactor[>0],#node_stack_bottom[*],#RS_NodeBottomSize[*+increment]]:FOR[RealismSimplifiedRescale]
{
    @RS_NodeBottomSize ^= :\+increment$::
    @RS_NodeBottomSize += 1
}
@PART[*]:HAS[~RS_IgnorePart[],~RS_IgnoreForRescale[],~RS_RescaleOnlyPlumes[],#RS_RescaleFactor[>0],#node_stack_bottom[*],#RS_NodeBottomSize[*]]:FOR[RealismSimplifiedRescale]
{
	@node_stack_bottom[6] = #$RS_NodeBottomSize$
}

// Bottom (simple syntax, for part variants)
@PART[*]:HAS[~RS_IgnorePart[],~RS_IgnoreForRescale[],~RS_RescaleOnlyPlumes[],#RS_RescaleFactor[>0],@MODULE[ModulePartVariants]:HAS[@VARIANT:HAS[@NODES:HAS[#node_stack_bottom[*]]]]]:FOR[RealismSimplifiedRescale]
{
	@MODULE[ModulePartVariants]
	{
		@VARIANT:HAS[@NODES],*
		{
			@NODES:HAS[#node_stack_bottom[*]]
			{
				@node_stack_bottom ^= :^([\d\.-]+\s*,\s*[\d\.-]+\s*,\s*[\d\.-]+\s*,\s*[\d\.-]+\s*,\s*[\d\.-]+\s*,\s*[\d\.-]+)$:$1, 1:
				@node_stack_bottom[0] *= #$/RS_RescaleFactor$
				@node_stack_bottom[1] *= #$/RS_RescaleFactor$
				@node_stack_bottom[2] *= #$/RS_RescaleFactor$
				%RS_NodeBottomSize = #$node_stack_bottom[6]$
				@RS_NodeBottomSize ^= :^$:1:
				@RS_NodeBottomSize ^= :^(\d+)\..*$:$1:
				@RS_NodeBottomSize ^= :\D::
				@RS_NodeBottomSize ^= :^0$:0.5:
			}
		}
	}
}
@PART[*]:HAS[~RS_IgnorePart[],~RS_IgnoreForRescale[],~RS_RescaleOnlyPlumes[],#RS_RescaleFactor[<1],@MODULE[ModulePartVariants]:HAS[@VARIANT:HAS[@NODES:HAS[#node_stack_bottom[*]]]]]:FOR[RealismSimplifiedRescale]
{
	@MODULE[ModulePartVariants]
	{
		@VARIANT:HAS[@NODES],*
		{
			@NODES:HAS[#node_stack_bottom[*],#RS_NodeBottomSize[*]]
			{
				@RS_NodeBottomSize *= 0.9
			}
		}
	}
}
@PART[*]:HAS[~RS_IgnorePart[],~RS_IgnoreForRescale[],~RS_RescaleOnlyPlumes[],#RS_RescaleFactor[>0],@MODULE[ModulePartVariants]:HAS[@VARIANT:HAS[@NODES:HAS[#node_stack_bottom[*]]]]]:FOR[RealismSimplifiedRescale]
{
	@MODULE[ModulePartVariants]
	{
		@VARIANT:HAS[@NODES],*
		{
			@NODES:HAS[#node_stack_bottom[*],#RS_NodeBottomSize[*]]
			{
				@RS_NodeBottomSize *= #$/RS_RescaleFactor$
				@RS_NodeBottomSize ^= :^(\d+)\.[^56789]\d*$:$1:
				@RS_NodeBottomSize ^= :^(\d+)\.[56789]\d*$:$1+increment:
			}
		}
	}
}
@PART[*]:HAS[~RS_IgnorePart[],~RS_IgnoreForRescale[],~RS_RescaleOnlyPlumes[],#RS_RescaleFactor[>0],@MODULE[ModulePartVariants]:HAS[@VARIANT:HAS[@NODES:HAS[#node_stack_bottom[*]]]]]:FOR[RealismSimplifiedRescale]
{
	@MODULE[ModulePartVariants]
	{
		@VARIANT:HAS[@NODES],*
		{
			@NODES:HAS[#node_stack_bottom[*],#RS_NodeBottomSize[*+increment]]
			{
				 @RS_NodeBottomSize ^= :\+increment$::
				 @RS_NodeBottomSize += 1
			}
		}
	}
}
@PART[*]:HAS[~RS_IgnorePart[],~RS_IgnoreForRescale[],~RS_RescaleOnlyPlumes[],#RS_RescaleFactor[>0],@MODULE[ModulePartVariants]:HAS[@VARIANT:HAS[@NODES:HAS[#node_stack_bottom[*]]]]]:FOR[RealismSimplifiedRescale]
{
	@MODULE[ModulePartVariants]
	{
		@VARIANT:HAS[@NODES],*
		{
			@NODES:HAS[#node_stack_bottom[*],#RS_NodeBottomSize[*]]
			{
				 @node_stack_bottom[6] = #$RS_NodeBottomSize$
				 !RS_NodeBottomSize = DELETE
			}
		}
	}
}

// Top (NODE syntax)
@PART[*]:HAS[~RS_IgnorePart[],~RS_IgnoreForRescale[],~RS_RescaleOnlyPlumes[],#RS_RescaleFactor[>0],@NODE[*top*]:HAS[~size[]]]:FOR[RealismSimplifiedRescale]
{
	@NODE[*top*]:HAS[~size[]],*
	{
		size = 1
	}
}
@PART[*]:HAS[~RS_IgnorePart[],~RS_IgnoreForRescale[],~RS_RescaleOnlyPlumes[],#RS_RescaleFactor[>0],@NODE[*top*]:HAS[#size[0]]]:FOR[RealismSimplifiedRescale]
{
	@NODE[*top*]:HAS[#size[0]],*
	{
		@size = 0.5
	}
}
@PART[*]:HAS[~RS_IgnorePart[],~RS_IgnoreForRescale[],~RS_RescaleOnlyPlumes[],#RS_RescaleFactor[<1],@NODE[*top*]:HAS[#size[>0]]]:FOR[RealismSimplifiedRescale]
{
	@NODE[*top*]:HAS[#size[>0]],*
	{
		@size *= 0.9
	}
}
@PART[*]:HAS[~RS_IgnorePart[],~RS_IgnoreForRescale[],~RS_RescaleOnlyPlumes[],#RS_RescaleFactor[>1],@NODE[*top*]:HAS[#size[>0]]]:FOR[RealismSimplifiedRescale]
{
	@NODE[*top*]:HAS[#size[>0]],*
	{
		@size *= 1.1
	}
}
@PART[*]:HAS[~RS_IgnorePart[],~RS_IgnoreForRescale[],~RS_RescaleOnlyPlumes[],#RS_RescaleFactor[>0],@NODE[*top*]:HAS[#size[*]]]:FOR[RealismSimplifiedRescale]
{
	@NODE[*top*]:HAS[#size[>0]],*
	{
		@size *= #$RS_RescaleFactor$
		@size ^= :^(\d+)\.[^56789]\d*$:$1:
		@size ^= :^(\d+)\.[56789]\d*$:$1+increment:
	}
}
@PART[*]:HAS[~RS_IgnorePart[],~RS_IgnoreForRescale[],~RS_RescaleOnlyPlumes[],#RS_RescaleFactor[>0],@NODE[*top*]:HAS[#size[*+increment]]]:FOR[RealismSimplifiedRescale]
{
	@NODE[*top*]:HAS[#size[*+increment]],*
	{
		@size ^= :\+increment$::
		@size += 1
	}
}

// Bottom (NODE syntax)
@PART[*]:HAS[~RS_IgnorePart[],~RS_IgnoreForRescale[],~RS_RescaleOnlyPlumes[],#RS_RescaleFactor[>0],@NODE[*bottom*]:HAS[~size[]]]:FOR[RealismSimplifiedRescale]
{
	@NODE[*bottom*]:HAS[~size[]]
	{
		size = 1
	}
}
@PART[*]:HAS[~RS_IgnorePart[],~RS_IgnoreForRescale[],~RS_RescaleOnlyPlumes[],#RS_RescaleFactor[>0],@NODE[*bottom*]:HAS[#size[0]]]:FOR[RealismSimplifiedRescale]
{
	@NODE[*bottom*]:HAS[#size[0]],*
	{
		@size = 0.5
	}
}
@PART[*]:HAS[~RS_IgnorePart[],~RS_IgnoreForRescale[],~RS_RescaleOnlyPlumes[],#RS_RescaleFactor[<1],@NODE[*bottom*]:HAS[#size[>0]]]:FOR[RealismSimplifiedRescale]
{
	@NODE[*bottom*]:HAS[#size[>0]],*
	{
		@size *= 0.9
	}
}
@PART[*]:HAS[~RS_IgnorePart[],~RS_IgnoreForRescale[],~RS_RescaleOnlyPlumes[],#RS_RescaleFactor[>1],@NODE[*bottom*]:HAS[#size[>0]]]:FOR[RealismSimplifiedRescale]
{
	@NODE[*bottom*]:HAS[#size[>0]],*
	{
		@size *= 1.1
	}
}
@PART[*]:HAS[~RS_IgnorePart[],~RS_IgnoreForRescale[],~RS_RescaleOnlyPlumes[],#RS_RescaleFactor[>0],@NODE[*bottom*]:HAS[#size[*]]]:FOR[RealismSimplifiedRescale]
{
	@NODE[*bottom*]:HAS[#size[*]],*
	{
		@size *= #$RS_RescaleFactor$
		@size ^= :^(\d+)\.[^56789]\d*$:$1:
		@size ^= :^(\d+)\.[56789]\d*$:$1+increment:
	}
}
@PART[*]:HAS[~RS_IgnorePart[],~RS_IgnoreForRescale[],~RS_RescaleOnlyPlumes[],#RS_RescaleFactor[>0],@NODE[*bottom*]:HAS[#size[*+increment]]]:FOR[RealismSimplifiedRescale]
{
	@NODE[*bottom*]:HAS[#size[*+increment]],*
	{
		@size ^= :\+increment$::
		@size += 1
	}
}


// ===============================================================================
// Bulkhead profiles
// ===============================================================================
@PART[*]:HAS[~RS_IgnorePart[],~RS_IgnoreForRescale[],~RS_RescaleOnlyPlumes[],#RS_RescaleFactor[>0],#bulkheadProfiles[*]]:FOR[RealismSimplifiedRescale]
{
	// Up to 3 profiles
	%RS_BHProfile1 = #$bulkheadProfiles[0]$
	%RS_BHProfile2 = #$bulkheadProfiles[1]$
	%RS_BHProfile3 = #$bulkheadProfiles[2]$
}
@PART[*]:HAS[~RS_IgnorePart[],~RS_IgnoreForRescale[],~RS_RescaleOnlyPlumes[],#RS_RescaleFactor[>0],#bulkheadProfiles[*],~RS_BHProfile1[]]:FOR[RealismSimplifiedRescale]
{
	%RS_BHProfile1 = #$bulkheadProfiles$
}

// Numeric values
// Bulkhead profile #1
@PART[*]:HAS[~RS_IgnorePart[],~RS_IgnoreForRescale[],~RS_RescaleOnlyPlumes[],#RS_RescaleFactor[>0],#bulkheadProfiles[*],#RS_BHProfile1[size00]]:FOR[RealismSimplifiedRescale]
{
	%RS_BHProfile1Numeric = 0.3125
}
@PART[*]:HAS[~RS_IgnorePart[],~RS_IgnoreForRescale[],~RS_RescaleOnlyPlumes[],#RS_RescaleFactor[>0],#bulkheadProfiles[*],#RS_BHProfile1[size0]]:FOR[RealismSimplifiedRescale]
{
	%RS_BHProfile1Numeric = 0.625
}
@PART[*]:HAS[~RS_IgnorePart[],~RS_IgnoreForRescale[],~RS_RescaleOnlyPlumes[],#RS_RescaleFactor[>0],#bulkheadProfiles[*],#RS_BHProfile1[wedge]]:FOR[RealismSimplifiedRescale]
{
	%RS_BHProfile1Numeric = 0.78125
}
@PART[*]:HAS[~RS_IgnorePart[],~RS_IgnoreForRescale[],~RS_RescaleOnlyPlumes[],#RS_RescaleFactor[>0],#bulkheadProfiles[*],#RS_BHProfile1[size0p5]]:FOR[RealismSimplifiedRescale]
{
	%RS_BHProfile1Numeric = 0.9375
}
@PART[*]:HAS[~RS_IgnorePart[],~RS_IgnoreForRescale[],~RS_RescaleOnlyPlumes[],#RS_RescaleFactor[>0],#bulkheadProfiles[*],#RS_BHProfile1[size1]]:FOR[RealismSimplifiedRescale]
{
	%RS_BHProfile1Numeric = 1.25
}
@PART[*]:HAS[~RS_IgnorePart[],~RS_IgnoreForRescale[],~RS_RescaleOnlyPlumes[],#RS_RescaleFactor[>0],#bulkheadProfiles[*],#RS_BHProfile1[hextruss]]:FOR[RealismSimplifiedRescale]
{
	%RS_BHProfile1Numeric = 1.25
}
@PART[*]:HAS[~RS_IgnorePart[],~RS_IgnoreForRescale[],~RS_RescaleOnlyPlumes[],#RS_RescaleFactor[>0],#bulkheadProfiles[*],#RS_BHProfile1[size1p2]]:FOR[RealismSimplifiedRescale]
{
	%RS_BHProfile1Numeric = 1.5
}
@PART[*]:HAS[~RS_IgnorePart[],~RS_IgnoreForRescale[],~RS_RescaleOnlyPlumes[],#RS_RescaleFactor[>0],#bulkheadProfiles[*],#RS_BHProfile1[size1p5]]:FOR[RealismSimplifiedRescale]
{
	%RS_BHProfile1Numeric = 1.875
}
@PART[*]:HAS[~RS_IgnorePart[],~RS_IgnoreForRescale[],~RS_RescaleOnlyPlumes[],#RS_RescaleFactor[>0],#bulkheadProfiles[*],#RS_BHProfile1[mk2]]:FOR[RealismSimplifiedRescale]
{
	%RS_BHProfile1Numeric = 2.0
}
@PART[*]:HAS[~RS_IgnorePart[],~RS_IgnoreForRescale[],~RS_RescaleOnlyPlumes[],#RS_RescaleFactor[>0],#bulkheadProfiles[*],#RS_BHProfile1[size2]]:FOR[RealismSimplifiedRescale]
{
	%RS_BHProfile1Numeric = 2.5
}
@PART[*]:HAS[~RS_IgnorePart[],~RS_IgnoreForRescale[],~RS_RescaleOnlyPlumes[],#RS_RescaleFactor[>0],#bulkheadProfiles[*],#RS_BHProfile1[octotruss]]:FOR[RealismSimplifiedRescale]
{
	%RS_BHProfile1Numeric = 2.5
}
@PART[*]:HAS[~RS_IgnorePart[],~RS_IgnoreForRescale[],~RS_RescaleOnlyPlumes[],#RS_RescaleFactor[>0],#bulkheadProfiles[*],#RS_BHProfile1[mk2o]]:FOR[RealismSimplifiedRescale]
{
	%RS_BHProfile1Numeric = 2.5
}
@PART[*]:HAS[~RS_IgnorePart[],~RS_IgnoreForRescale[],~RS_RescaleOnlyPlumes[],#RS_RescaleFactor[>0],#bulkheadProfiles[*],#RS_BHProfile1[mk25]]:FOR[RealismSimplifiedRescale]
{
	%RS_BHProfile1Numeric = 2.5
}
@PART[*]:HAS[~RS_IgnorePart[],~RS_IgnoreForRescale[],~RS_RescaleOnlyPlumes[],#RS_RescaleFactor[>0],#bulkheadProfiles[*],#RS_BHProfile1[i]]:FOR[RealismSimplifiedRescale]
{
	%RS_BHProfile1Numeric = 2.5
}
@PART[*]:HAS[~RS_IgnorePart[],~RS_IgnoreForRescale[],~RS_RescaleOnlyPlumes[],#RS_RescaleFactor[>0],#bulkheadProfiles[*],#RS_BHProfile1[h]]:FOR[RealismSimplifiedRescale]
{
	%RS_BHProfile1Numeric = 2.5
}
@PART[*]:HAS[~RS_IgnorePart[],~RS_IgnoreForRescale[],~RS_RescaleOnlyPlumes[],#RS_RescaleFactor[>0],#bulkheadProfiles[*],#RS_BHProfile1[size2p5]]:FOR[RealismSimplifiedRescale]
{
	%RS_BHProfile1Numeric = 3.125
}
@PART[*]:HAS[~RS_IgnorePart[],~RS_IgnoreForRescale[],~RS_RescaleOnlyPlumes[],#RS_RescaleFactor[>0],#bulkheadProfiles[*],#RS_BHProfile1[size3]]:FOR[RealismSimplifiedRescale]
{
	%RS_BHProfile1Numeric = 3.75
}
@PART[*]:HAS[~RS_IgnorePart[],~RS_IgnoreForRescale[],~RS_RescaleOnlyPlumes[],#RS_RescaleFactor[>0],#bulkheadProfiles[*],#RS_BHProfile1[octo3]]:FOR[RealismSimplifiedRescale]
{
	%RS_BHProfile1Numeric = 3.75
}
@PART[*]:HAS[~RS_IgnorePart[],~RS_IgnoreForRescale[],~RS_RescaleOnlyPlumes[],#RS_RescaleFactor[>0],#bulkheadProfiles[*],#RS_BHProfile1[mk3]]:FOR[RealismSimplifiedRescale]
{
	%RS_BHProfile1Numeric = 3.75
}
@PART[*]:HAS[~RS_IgnorePart[],~RS_IgnoreForRescale[],~RS_RescaleOnlyPlumes[],#RS_RescaleFactor[>0],#bulkheadProfiles[*],#RS_BHProfile1[j]]:FOR[RealismSimplifiedRescale]
{
	%RS_BHProfile1Numeric = 3.75
}
@PART[*]:HAS[~RS_IgnorePart[],~RS_IgnoreForRescale[],~RS_RescaleOnlyPlumes[],#RS_RescaleFactor[>0],#bulkheadProfiles[*],#RS_BHProfile1[spinaltruss]]:FOR[RealismSimplifiedRescale]
{
	%RS_BHProfile1Numeric = 3.75
}
@PART[*]:HAS[~RS_IgnorePart[],~RS_IgnoreForRescale[],~RS_RescaleOnlyPlumes[],#RS_RescaleFactor[>0],#bulkheadProfiles[*],#RS_BHProfile1[size3p4]]:FOR[RealismSimplifiedRescale]
{
	%RS_BHProfile1Numeric = 4.25
}
@PART[*]:HAS[~RS_IgnorePart[],~RS_IgnoreForRescale[],~RS_RescaleOnlyPlumes[],#RS_RescaleFactor[>0],#bulkheadProfiles[*],#RS_BHProfile1[mk4]]:FOR[RealismSimplifiedRescale]
{
	%RS_BHProfile1Numeric = 4.25
}
@PART[*]:HAS[~RS_IgnorePart[],~RS_IgnoreForRescale[],~RS_RescaleOnlyPlumes[],#RS_RescaleFactor[>0],#bulkheadProfiles[*],#RS_BHProfile1[k]]:FOR[RealismSimplifiedRescale]
{
	%RS_BHProfile1Numeric = 4.5
}
@PART[*]:HAS[~RS_IgnorePart[],~RS_IgnoreForRescale[],~RS_RescaleOnlyPlumes[],#RS_RescaleFactor[>0],#bulkheadProfiles[*],#RS_BHProfile1[size4]]:FOR[RealismSimplifiedRescale]
{
	%RS_BHProfile1Numeric = 5.0
}
@PART[*]:HAS[~RS_IgnorePart[],~RS_IgnoreForRescale[],~RS_RescaleOnlyPlumes[],#RS_RescaleFactor[>0],#bulkheadProfiles[*],#RS_BHProfile1[kh]]:FOR[RealismSimplifiedRescale]
{
	%RS_BHProfile1Numeric = 5.0
}
@PART[*]:HAS[~RS_IgnorePart[],~RS_IgnoreForRescale[],~RS_RescaleOnlyPlumes[],#RS_RescaleFactor[>0],#bulkheadProfiles[*],#RS_BHProfile1[size4p5]]:FOR[RealismSimplifiedRescale]
{
	%RS_BHProfile1Numeric = 6.25
}
@PART[*]:HAS[~RS_IgnorePart[],~RS_IgnoreForRescale[],~RS_RescaleOnlyPlumes[],#RS_RescaleFactor[>0],#bulkheadProfiles[*],#RS_BHProfile1[size5]]:FOR[RealismSimplifiedRescale]
{
	%RS_BHProfile1Numeric = 7.5
}
@PART[*]:HAS[~RS_IgnorePart[],~RS_IgnoreForRescale[],~RS_RescaleOnlyPlumes[],#RS_RescaleFactor[>0],#bulkheadProfiles[*],#RS_BHProfile1[size6]]:FOR[RealismSimplifiedRescale]
{
	%RS_BHProfile1Numeric = 10.0
}
@PART[*]:HAS[~RS_IgnorePart[],~RS_IgnoreForRescale[],~RS_RescaleOnlyPlumes[],#RS_RescaleFactor[>0],#bulkheadProfiles[*],#RS_BHProfile1[size7]]:FOR[RealismSimplifiedRescale]
{
	%RS_BHProfile1Numeric = 15.0
}
@PART[*]:HAS[~RS_IgnorePart[],~RS_IgnoreForRescale[],~RS_RescaleOnlyPlumes[],#RS_RescaleFactor[>0],#bulkheadProfiles[*],#RS_BHProfile1[size8]]:FOR[RealismSimplifiedRescale]
{
	%RS_BHProfile1Numeric = 20.0
}
@PART[*]:HAS[~RS_IgnorePart[],~RS_IgnoreForRescale[],~RS_RescaleOnlyPlumes[],#RS_RescaleFactor[>0],#bulkheadProfiles[*],#RS_BHProfile1[size9]]:FOR[RealismSimplifiedRescale]
{
	%RS_BHProfile1Numeric = 30.0
}
// Bulkhead profile #2
@PART[*]:HAS[~RS_IgnorePart[],~RS_IgnoreForRescale[],~RS_RescaleOnlyPlumes[],#RS_RescaleFactor[>0],#bulkheadProfiles[*],#RS_BHProfile2[size00]]:FOR[RealismSimplifiedRescale]
{
	%RS_BHProfile2Numeric = 0.3125
}
@PART[*]:HAS[~RS_IgnorePart[],~RS_IgnoreForRescale[],~RS_RescaleOnlyPlumes[],#RS_RescaleFactor[>0],#bulkheadProfiles[*],#RS_BHProfile2[size0]]:FOR[RealismSimplifiedRescale]
{
	%RS_BHProfile2Numeric = 0.625
}
@PART[*]:HAS[~RS_IgnorePart[],~RS_IgnoreForRescale[],~RS_RescaleOnlyPlumes[],#RS_RescaleFactor[>0],#bulkheadProfiles[*],#RS_BHProfile2[wedge]]:FOR[RealismSimplifiedRescale]
{
	%RS_BHProfile2Numeric = 0.78125
}
@PART[*]:HAS[~RS_IgnorePart[],~RS_IgnoreForRescale[],~RS_RescaleOnlyPlumes[],#RS_RescaleFactor[>0],#bulkheadProfiles[*],#RS_BHProfile2[size0p5]]:FOR[RealismSimplifiedRescale]
{
	%RS_BHProfile2Numeric = 0.9375
}
@PART[*]:HAS[~RS_IgnorePart[],~RS_IgnoreForRescale[],~RS_RescaleOnlyPlumes[],#RS_RescaleFactor[>0],#bulkheadProfiles[*],#RS_BHProfile2[size1]]:FOR[RealismSimplifiedRescale]
{
	%RS_BHProfile2Numeric = 1.25
}
@PART[*]:HAS[~RS_IgnorePart[],~RS_IgnoreForRescale[],~RS_RescaleOnlyPlumes[],#RS_RescaleFactor[>0],#bulkheadProfiles[*],#RS_BHProfile2[hextruss]]:FOR[RealismSimplifiedRescale]
{
	%RS_BHProfile2Numeric = 1.25
}
@PART[*]:HAS[~RS_IgnorePart[],~RS_IgnoreForRescale[],~RS_RescaleOnlyPlumes[],#RS_RescaleFactor[>0],#bulkheadProfiles[*],#RS_BHProfile2[size1p2]]:FOR[RealismSimplifiedRescale]
{
	%RS_BHProfile2Numeric = 1.5
}
@PART[*]:HAS[~RS_IgnorePart[],~RS_IgnoreForRescale[],~RS_RescaleOnlyPlumes[],#RS_RescaleFactor[>0],#bulkheadProfiles[*],#RS_BHProfile2[size1p5]]:FOR[RealismSimplifiedRescale]
{
	%RS_BHProfile2Numeric = 1.875
}
@PART[*]:HAS[~RS_IgnorePart[],~RS_IgnoreForRescale[],~RS_RescaleOnlyPlumes[],#RS_RescaleFactor[>0],#bulkheadProfiles[*],#RS_BHProfile2[mk2]]:FOR[RealismSimplifiedRescale]
{
	%RS_BHProfile2Numeric = 2.0
}
@PART[*]:HAS[~RS_IgnorePart[],~RS_IgnoreForRescale[],~RS_RescaleOnlyPlumes[],#RS_RescaleFactor[>0],#bulkheadProfiles[*],#RS_BHProfile2[size2]]:FOR[RealismSimplifiedRescale]
{
	%RS_BHProfile2Numeric = 2.5
}
@PART[*]:HAS[~RS_IgnorePart[],~RS_IgnoreForRescale[],~RS_RescaleOnlyPlumes[],#RS_RescaleFactor[>0],#bulkheadProfiles[*],#RS_BHProfile2[octotruss]]:FOR[RealismSimplifiedRescale]
{
	%RS_BHProfile2Numeric = 2.5
}
@PART[*]:HAS[~RS_IgnorePart[],~RS_IgnoreForRescale[],~RS_RescaleOnlyPlumes[],#RS_RescaleFactor[>0],#bulkheadProfiles[*],#RS_BHProfile2[mk2o]]:FOR[RealismSimplifiedRescale]
{
	%RS_BHProfile2Numeric = 2.5
}
@PART[*]:HAS[~RS_IgnorePart[],~RS_IgnoreForRescale[],~RS_RescaleOnlyPlumes[],#RS_RescaleFactor[>0],#bulkheadProfiles[*],#RS_BHProfile2[mk25]]:FOR[RealismSimplifiedRescale]
{
	%RS_BHProfile2Numeric = 2.5
}
@PART[*]:HAS[~RS_IgnorePart[],~RS_IgnoreForRescale[],~RS_RescaleOnlyPlumes[],#RS_RescaleFactor[>0],#bulkheadProfiles[*],#RS_BHProfile2[i]]:FOR[RealismSimplifiedRescale]
{
	%RS_BHProfile2Numeric = 2.5
}
@PART[*]:HAS[~RS_IgnorePart[],~RS_IgnoreForRescale[],~RS_RescaleOnlyPlumes[],#RS_RescaleFactor[>0],#bulkheadProfiles[*],#RS_BHProfile2[h]]:FOR[RealismSimplifiedRescale]
{
	%RS_BHProfile2Numeric = 2.5
}
@PART[*]:HAS[~RS_IgnorePart[],~RS_IgnoreForRescale[],~RS_RescaleOnlyPlumes[],#RS_RescaleFactor[>0],#bulkheadProfiles[*],#RS_BHProfile2[size2p5]]:FOR[RealismSimplifiedRescale]
{
	%RS_BHProfile2Numeric = 3.125
}
@PART[*]:HAS[~RS_IgnorePart[],~RS_IgnoreForRescale[],~RS_RescaleOnlyPlumes[],#RS_RescaleFactor[>0],#bulkheadProfiles[*],#RS_BHProfile2[size3]]:FOR[RealismSimplifiedRescale]
{
	%RS_BHProfile2Numeric = 3.75
}
@PART[*]:HAS[~RS_IgnorePart[],~RS_IgnoreForRescale[],~RS_RescaleOnlyPlumes[],#RS_RescaleFactor[>0],#bulkheadProfiles[*],#RS_BHProfile2[octo3]]:FOR[RealismSimplifiedRescale]
{
	%RS_BHProfile2Numeric = 3.75
}
@PART[*]:HAS[~RS_IgnorePart[],~RS_IgnoreForRescale[],~RS_RescaleOnlyPlumes[],#RS_RescaleFactor[>0],#bulkheadProfiles[*],#RS_BHProfile2[mk3]]:FOR[RealismSimplifiedRescale]
{
	%RS_BHProfile2Numeric = 3.75
}
@PART[*]:HAS[~RS_IgnorePart[],~RS_IgnoreForRescale[],~RS_RescaleOnlyPlumes[],#RS_RescaleFactor[>0],#bulkheadProfiles[*],#RS_BHProfile2[j]]:FOR[RealismSimplifiedRescale]
{
	%RS_BHProfile2Numeric = 3.75
}
@PART[*]:HAS[~RS_IgnorePart[],~RS_IgnoreForRescale[],~RS_RescaleOnlyPlumes[],#RS_RescaleFactor[>0],#bulkheadProfiles[*],#RS_BHProfile2[spinaltruss]]:FOR[RealismSimplifiedRescale]
{
	%RS_BHProfile2Numeric = 3.75
}
@PART[*]:HAS[~RS_IgnorePart[],~RS_IgnoreForRescale[],~RS_RescaleOnlyPlumes[],#RS_RescaleFactor[>0],#bulkheadProfiles[*],#RS_BHProfile2[size3p4]]:FOR[RealismSimplifiedRescale]
{
	%RS_BHProfile2Numeric = 4.25
}
@PART[*]:HAS[~RS_IgnorePart[],~RS_IgnoreForRescale[],~RS_RescaleOnlyPlumes[],#RS_RescaleFactor[>0],#bulkheadProfiles[*],#RS_BHProfile2[mk4]]:FOR[RealismSimplifiedRescale]
{
	%RS_BHProfile2Numeric = 4.25
}
@PART[*]:HAS[~RS_IgnorePart[],~RS_IgnoreForRescale[],~RS_RescaleOnlyPlumes[],#RS_RescaleFactor[>0],#bulkheadProfiles[*],#RS_BHProfile2[k]]:FOR[RealismSimplifiedRescale]
{
	%RS_BHProfile2Numeric = 4.5
}
@PART[*]:HAS[~RS_IgnorePart[],~RS_IgnoreForRescale[],~RS_RescaleOnlyPlumes[],#RS_RescaleFactor[>0],#bulkheadProfiles[*],#RS_BHProfile2[size4]]:FOR[RealismSimplifiedRescale]
{
	%RS_BHProfile2Numeric = 5.0
}
@PART[*]:HAS[~RS_IgnorePart[],~RS_IgnoreForRescale[],~RS_RescaleOnlyPlumes[],#RS_RescaleFactor[>0],#bulkheadProfiles[*],#RS_BHProfile2[kh]]:FOR[RealismSimplifiedRescale]
{
	%RS_BHProfile2Numeric = 5.0
}
@PART[*]:HAS[~RS_IgnorePart[],~RS_IgnoreForRescale[],~RS_RescaleOnlyPlumes[],#RS_RescaleFactor[>0],#bulkheadProfiles[*],#RS_BHProfile2[size4p5]]:FOR[RealismSimplifiedRescale]
{
	%RS_BHProfile2Numeric = 6.25
}
@PART[*]:HAS[~RS_IgnorePart[],~RS_IgnoreForRescale[],~RS_RescaleOnlyPlumes[],#RS_RescaleFactor[>0],#bulkheadProfiles[*],#RS_BHProfile2[size5]]:FOR[RealismSimplifiedRescale]
{
	%RS_BHProfile2Numeric = 7.5
}
@PART[*]:HAS[~RS_IgnorePart[],~RS_IgnoreForRescale[],~RS_RescaleOnlyPlumes[],#RS_RescaleFactor[>0],#bulkheadProfiles[*],#RS_BHProfile2[size6]]:FOR[RealismSimplifiedRescale]
{
	%RS_BHProfile2Numeric = 10.0
}
@PART[*]:HAS[~RS_IgnorePart[],~RS_IgnoreForRescale[],~RS_RescaleOnlyPlumes[],#RS_RescaleFactor[>0],#bulkheadProfiles[*],#RS_BHProfile2[size7]]:FOR[RealismSimplifiedRescale]
{
	%RS_BHProfile2Numeric = 15.0
}
@PART[*]:HAS[~RS_IgnorePart[],~RS_IgnoreForRescale[],~RS_RescaleOnlyPlumes[],#RS_RescaleFactor[>0],#bulkheadProfiles[*],#RS_BHProfile2[size8]]:FOR[RealismSimplifiedRescale]
{
	%RS_BHProfile2Numeric = 20.0
}
@PART[*]:HAS[~RS_IgnorePart[],~RS_IgnoreForRescale[],~RS_RescaleOnlyPlumes[],#RS_RescaleFactor[>0],#bulkheadProfiles[*],#RS_BHProfile2[size9]]:FOR[RealismSimplifiedRescale]
{
	%RS_BHProfile2Numeric = 30.0
}
// Bulkhead profile #3
@PART[*]:HAS[~RS_IgnorePart[],~RS_IgnoreForRescale[],~RS_RescaleOnlyPlumes[],#RS_RescaleFactor[>0],#bulkheadProfiles[*],#RS_BHProfile3[size00]]:FOR[RealismSimplifiedRescale]
{
	%RS_BHProfile3Numeric = 0.3125
}
@PART[*]:HAS[~RS_IgnorePart[],~RS_IgnoreForRescale[],~RS_RescaleOnlyPlumes[],#RS_RescaleFactor[>0],#bulkheadProfiles[*],#RS_BHProfile3[size0]]:FOR[RealismSimplifiedRescale]
{
	%RS_BHProfile3Numeric = 0.625
}
@PART[*]:HAS[~RS_IgnorePart[],~RS_IgnoreForRescale[],~RS_RescaleOnlyPlumes[],#RS_RescaleFactor[>0],#bulkheadProfiles[*],#RS_BHProfile3[wedge]]:FOR[RealismSimplifiedRescale]
{
	%RS_BHProfile3Numeric = 0.78125
}
@PART[*]:HAS[~RS_IgnorePart[],~RS_IgnoreForRescale[],~RS_RescaleOnlyPlumes[],#RS_RescaleFactor[>0],#bulkheadProfiles[*],#RS_BHProfile3[size0p5]]:FOR[RealismSimplifiedRescale]
{
	%RS_BHProfile3Numeric = 0.9375
}
@PART[*]:HAS[~RS_IgnorePart[],~RS_IgnoreForRescale[],~RS_RescaleOnlyPlumes[],#RS_RescaleFactor[>0],#bulkheadProfiles[*],#RS_BHProfile3[size1]]:FOR[RealismSimplifiedRescale]
{
	%RS_BHProfile3Numeric = 1.25
}
@PART[*]:HAS[~RS_IgnorePart[],~RS_IgnoreForRescale[],~RS_RescaleOnlyPlumes[],#RS_RescaleFactor[>0],#bulkheadProfiles[*],#RS_BHProfile3[hextruss]]:FOR[RealismSimplifiedRescale]
{
	%RS_BHProfile3Numeric = 1.25
}
@PART[*]:HAS[~RS_IgnorePart[],~RS_IgnoreForRescale[],~RS_RescaleOnlyPlumes[],#RS_RescaleFactor[>0],#bulkheadProfiles[*],#RS_BHProfile3[size1p2]]:FOR[RealismSimplifiedRescale]
{
	%RS_BHProfile3Numeric = 1.5
}
@PART[*]:HAS[~RS_IgnorePart[],~RS_IgnoreForRescale[],~RS_RescaleOnlyPlumes[],#RS_RescaleFactor[>0],#bulkheadProfiles[*],#RS_BHProfile3[size1p5]]:FOR[RealismSimplifiedRescale]
{
	%RS_BHProfile3Numeric = 1.875
}
@PART[*]:HAS[~RS_IgnorePart[],~RS_IgnoreForRescale[],~RS_RescaleOnlyPlumes[],#RS_RescaleFactor[>0],#bulkheadProfiles[*],#RS_BHProfile3[mk2]]:FOR[RealismSimplifiedRescale]
{
	%RS_BHProfile3Numeric = 2.0
}
@PART[*]:HAS[~RS_IgnorePart[],~RS_IgnoreForRescale[],~RS_RescaleOnlyPlumes[],#RS_RescaleFactor[>0],#bulkheadProfiles[*],#RS_BHProfile3[size2]]:FOR[RealismSimplifiedRescale]
{
	%RS_BHProfile3Numeric = 2.5
}
@PART[*]:HAS[~RS_IgnorePart[],~RS_IgnoreForRescale[],~RS_RescaleOnlyPlumes[],#RS_RescaleFactor[>0],#bulkheadProfiles[*],#RS_BHProfile3[octotruss]]:FOR[RealismSimplifiedRescale]
{
	%RS_BHProfile3Numeric = 2.5
}
@PART[*]:HAS[~RS_IgnorePart[],~RS_IgnoreForRescale[],~RS_RescaleOnlyPlumes[],#RS_RescaleFactor[>0],#bulkheadProfiles[*],#RS_BHProfile3[mk2o]]:FOR[RealismSimplifiedRescale]
{
	%RS_BHProfile3Numeric = 2.5
}
@PART[*]:HAS[~RS_IgnorePart[],~RS_IgnoreForRescale[],~RS_RescaleOnlyPlumes[],#RS_RescaleFactor[>0],#bulkheadProfiles[*],#RS_BHProfile3[mk25]]:FOR[RealismSimplifiedRescale]
{
	%RS_BHProfile3Numeric = 2.5
}
@PART[*]:HAS[~RS_IgnorePart[],~RS_IgnoreForRescale[],~RS_RescaleOnlyPlumes[],#RS_RescaleFactor[>0],#bulkheadProfiles[*],#RS_BHProfile3[i]]:FOR[RealismSimplifiedRescale]
{
	%RS_BHProfile3Numeric = 2.5
}
@PART[*]:HAS[~RS_IgnorePart[],~RS_IgnoreForRescale[],~RS_RescaleOnlyPlumes[],#RS_RescaleFactor[>0],#bulkheadProfiles[*],#RS_BHProfile3[h]]:FOR[RealismSimplifiedRescale]
{
	%RS_BHProfile3Numeric = 2.5
}
@PART[*]:HAS[~RS_IgnorePart[],~RS_IgnoreForRescale[],~RS_RescaleOnlyPlumes[],#RS_RescaleFactor[>0],#bulkheadProfiles[*],#RS_BHProfile3[size2p5]]:FOR[RealismSimplifiedRescale]
{
	%RS_BHProfile3Numeric = 3.125
}
@PART[*]:HAS[~RS_IgnorePart[],~RS_IgnoreForRescale[],~RS_RescaleOnlyPlumes[],#RS_RescaleFactor[>0],#bulkheadProfiles[*],#RS_BHProfile3[size3]]:FOR[RealismSimplifiedRescale]
{
	%RS_BHProfile3Numeric = 3.75
}
@PART[*]:HAS[~RS_IgnorePart[],~RS_IgnoreForRescale[],~RS_RescaleOnlyPlumes[],#RS_RescaleFactor[>0],#bulkheadProfiles[*],#RS_BHProfile3[octo3]]:FOR[RealismSimplifiedRescale]
{
	%RS_BHProfile3Numeric = 3.75
}
@PART[*]:HAS[~RS_IgnorePart[],~RS_IgnoreForRescale[],~RS_RescaleOnlyPlumes[],#RS_RescaleFactor[>0],#bulkheadProfiles[*],#RS_BHProfile3[mk3]]:FOR[RealismSimplifiedRescale]
{
	%RS_BHProfile3Numeric = 3.75
}
@PART[*]:HAS[~RS_IgnorePart[],~RS_IgnoreForRescale[],~RS_RescaleOnlyPlumes[],#RS_RescaleFactor[>0],#bulkheadProfiles[*],#RS_BHProfile3[j]]:FOR[RealismSimplifiedRescale]
{
	%RS_BHProfile3Numeric = 3.75
}
@PART[*]:HAS[~RS_IgnorePart[],~RS_IgnoreForRescale[],~RS_RescaleOnlyPlumes[],#RS_RescaleFactor[>0],#bulkheadProfiles[*],#RS_BHProfile3[spinaltruss]]:FOR[RealismSimplifiedRescale]
{
	%RS_BHProfile3Numeric = 3.75
}
@PART[*]:HAS[~RS_IgnorePart[],~RS_IgnoreForRescale[],~RS_RescaleOnlyPlumes[],#RS_RescaleFactor[>0],#bulkheadProfiles[*],#RS_BHProfile3[size3p4]]:FOR[RealismSimplifiedRescale]
{
	%RS_BHProfile3Numeric = 4.25
}
@PART[*]:HAS[~RS_IgnorePart[],~RS_IgnoreForRescale[],~RS_RescaleOnlyPlumes[],#RS_RescaleFactor[>0],#bulkheadProfiles[*],#RS_BHProfile3[mk4]]:FOR[RealismSimplifiedRescale]
{
	%RS_BHProfile3Numeric = 4.25
}
@PART[*]:HAS[~RS_IgnorePart[],~RS_IgnoreForRescale[],~RS_RescaleOnlyPlumes[],#RS_RescaleFactor[>0],#bulkheadProfiles[*],#RS_BHProfile3[k]]:FOR[RealismSimplifiedRescale]
{
	%RS_BHProfile3Numeric = 4.5
}
@PART[*]:HAS[~RS_IgnorePart[],~RS_IgnoreForRescale[],~RS_RescaleOnlyPlumes[],#RS_RescaleFactor[>0],#bulkheadProfiles[*],#RS_BHProfile3[size4]]:FOR[RealismSimplifiedRescale]
{
	%RS_BHProfile3Numeric = 5.0
}
@PART[*]:HAS[~RS_IgnorePart[],~RS_IgnoreForRescale[],~RS_RescaleOnlyPlumes[],#RS_RescaleFactor[>0],#bulkheadProfiles[*],#RS_BHProfile3[kh]]:FOR[RealismSimplifiedRescale]
{
	%RS_BHProfile3Numeric = 5.0
}
@PART[*]:HAS[~RS_IgnorePart[],~RS_IgnoreForRescale[],~RS_RescaleOnlyPlumes[],#RS_RescaleFactor[>0],#bulkheadProfiles[*],#RS_BHProfile3[size4p5]]:FOR[RealismSimplifiedRescale]
{
	%RS_BHProfile3Numeric = 6.25
}
@PART[*]:HAS[~RS_IgnorePart[],~RS_IgnoreForRescale[],~RS_RescaleOnlyPlumes[],#RS_RescaleFactor[>0],#bulkheadProfiles[*],#RS_BHProfile3[size5]]:FOR[RealismSimplifiedRescale]
{
	%RS_BHProfile3Numeric = 7.5
}
@PART[*]:HAS[~RS_IgnorePart[],~RS_IgnoreForRescale[],~RS_RescaleOnlyPlumes[],#RS_RescaleFactor[>0],#bulkheadProfiles[*],#RS_BHProfile3[size6]]:FOR[RealismSimplifiedRescale]
{
	%RS_BHProfile3Numeric = 10.0
}
@PART[*]:HAS[~RS_IgnorePart[],~RS_IgnoreForRescale[],~RS_RescaleOnlyPlumes[],#RS_RescaleFactor[>0],#bulkheadProfiles[*],#RS_BHProfile3[size7]]:FOR[RealismSimplifiedRescale]
{
	%RS_BHProfile3Numeric = 15.0
}
@PART[*]:HAS[~RS_IgnorePart[],~RS_IgnoreForRescale[],~RS_RescaleOnlyPlumes[],#RS_RescaleFactor[>0],#bulkheadProfiles[*],#RS_BHProfile3[size8]]:FOR[RealismSimplifiedRescale]
{
	%RS_BHProfile3Numeric = 20.0
}
@PART[*]:HAS[~RS_IgnorePart[],~RS_IgnoreForRescale[],~RS_RescaleOnlyPlumes[],#RS_RescaleFactor[>0],#bulkheadProfiles[*],#RS_BHProfile3[size9]]:FOR[RealismSimplifiedRescale]
{
	%RS_BHProfile3Numeric = 30.0
}

// Rescale bulkheadProfile
@PART[*]:HAS[~RS_IgnorePart[],~RS_IgnoreForRescale[],~RS_RescaleOnlyPlumes[],#RS_RescaleFactor[>0],#bulkheadProfiles[*],#RS_BHProfile1Numeric[>0]]:FOR[RealismSimplifiedRescale]
{
	@RS_BHProfile1Numeric *= #$RS_RescaleFactor$
}
@PART[*]:HAS[~RS_IgnorePart[],~RS_IgnoreForRescale[],~RS_RescaleOnlyPlumes[],#RS_RescaleFactor[>0],#bulkheadProfiles[*],#RS_BHProfile2Numeric[>0]]:FOR[RealismSimplifiedRescale]
{
	@RS_BHProfile2Numeric *= #$RS_RescaleFactor$
}
@PART[*]:HAS[~RS_IgnorePart[],~RS_IgnoreForRescale[],~RS_RescaleOnlyPlumes[],#RS_RescaleFactor[>0],#bulkheadProfiles[*],#RS_BHProfile3Numeric[>0]]:FOR[RealismSimplifiedRescale]
{
	@RS_BHProfile3Numeric *= #$RS_RescaleFactor$
}

// Set new bulkheadProfiles from rescaled numeric values
// Bulkhead profile #1
@PART[*]:HAS[~RS_IgnorePart[],~RS_IgnoreForRescale[],~RS_RescaleOnlyPlumes[],#RS_RescaleFactor[>0],#bulkheadProfiles[*],#RS_BHProfile1Numeric[<0.4688]]:FOR[RealismSimplifiedRescale]
{
	%RS_BHProfile1 = size00
	!RS_BHProfile1Numeric = DELETE
}
@PART[*]:HAS[~RS_IgnorePart[],~RS_IgnoreForRescale[],~RS_RescaleOnlyPlumes[],#RS_RescaleFactor[>0],#bulkheadProfiles[*],#RS_BHProfile1Numeric[>0.46875],#RS_BHProfile1Numeric[<0.782]]:FOR[RealismSimplifiedRescale]
{
	%RS_BHProfile1 = size0
	!RS_BHProfile1Numeric = DELETE
}
@PART[*]:HAS[~RS_IgnorePart[],~RS_IgnoreForRescale[],~RS_RescaleOnlyPlumes[],#RS_RescaleFactor[>0],#bulkheadProfiles[*],#RS_BHProfile1Numeric[>0.78125],#RS_BHProfile1Numeric[<1.1]]:FOR[RealismSimplifiedRescale]
{
	%RS_BHProfile1 = size0p5
	!RS_BHProfile1Numeric = DELETE
}
@PART[*]:HAS[~RS_IgnorePart[],~RS_IgnoreForRescale[],~RS_RescaleOnlyPlumes[],#RS_RescaleFactor[>0],#bulkheadProfiles[*],#RS_BHProfile1Numeric[>1.09375],#RS_BHProfile1Numeric[<1.376]]:FOR[RealismSimplifiedRescale]
{
	%RS_BHProfile1 = size1
	!RS_BHProfile1Numeric = DELETE
}
@PART[*]:HAS[~RS_IgnorePart[],~RS_IgnoreForRescale[],~RS_RescaleOnlyPlumes[],#RS_RescaleFactor[>0],#bulkheadProfiles[*],#RS_BHProfile1Numeric[>1.375],#RS_BHProfile1Numeric[<1.688]]:FOR[RealismSimplifiedRescale]
{
	%RS_BHProfile1 = size1p2
	!RS_BHProfile1Numeric = DELETE
}
@PART[*]:HAS[~RS_IgnorePart[],~RS_IgnoreForRescale[],~RS_RescaleOnlyPlumes[],#RS_RescaleFactor[>0],#bulkheadProfiles[*],#RS_BHProfile1Numeric[>1.6875],#RS_BHProfile1Numeric[<2.188]]:FOR[RealismSimplifiedRescale]
{
	%RS_BHProfile1 = size1p5
	!RS_BHProfile1Numeric = DELETE
}
@PART[*]:HAS[~RS_IgnorePart[],~RS_IgnoreForRescale[],~RS_RescaleOnlyPlumes[],#RS_RescaleFactor[>0],#bulkheadProfiles[*],#RS_BHProfile1Numeric[>2.1875],#RS_BHProfile1Numeric[<2.82]]:FOR[RealismSimplifiedRescale]
{
	%RS_BHProfile1 = size2
	!RS_BHProfile1Numeric = DELETE
}
@PART[*]:HAS[~RS_IgnorePart[],~RS_IgnoreForRescale[],~RS_RescaleOnlyPlumes[],#RS_RescaleFactor[>0],#bulkheadProfiles[*],#RS_BHProfile1Numeric[>2.8125],#RS_BHProfile1Numeric[<3.44]]:FOR[RealismSimplifiedRescale]
{
	%RS_BHProfile1 = size2p5
	!RS_BHProfile1Numeric = DELETE
}
@PART[*]:HAS[~RS_IgnorePart[],~RS_IgnoreForRescale[],~RS_RescaleOnlyPlumes[],#RS_RescaleFactor[>0],#bulkheadProfiles[*],#RS_BHProfile1Numeric[>3.4375],#RS_BHProfile1Numeric[<4.1]]:FOR[RealismSimplifiedRescale]
{
	%RS_BHProfile1 = size3
	!RS_BHProfile1Numeric = DELETE
}
@PART[*]:HAS[~RS_IgnorePart[],~RS_IgnoreForRescale[],~RS_RescaleOnlyPlumes[],#RS_RescaleFactor[>0],#bulkheadProfiles[*],#RS_BHProfile1Numeric[>4],#RS_BHProfile1Numeric[<4.65]]:FOR[RealismSimplifiedRescale]
{
	%RS_BHProfile1 = size3p4
	!RS_BHProfile1Numeric = DELETE
}
@PART[*]:HAS[~RS_IgnorePart[],~RS_IgnoreForRescale[],~RS_RescaleOnlyPlumes[],#RS_RescaleFactor[>0],#bulkheadProfiles[*],#RS_BHProfile1Numeric[>4.625],#RS_BHProfile1Numeric[<5.63]]:FOR[RealismSimplifiedRescale]
{
	%RS_BHProfile1 = size4
	!RS_BHProfile1Numeric = DELETE
}
@PART[*]:HAS[~RS_IgnorePart[],~RS_IgnoreForRescale[],~RS_RescaleOnlyPlumes[],#RS_RescaleFactor[>0],#bulkheadProfiles[*],#RS_BHProfile1Numeric[>5.3125],#RS_BHProfile1Numeric[<6.565]]:FOR[RealismSimplifiedRescale]
{
	%RS_BHProfile1 = size4p5
	!RS_BHProfile1Numeric = DELETE
}
@PART[*]:HAS[~RS_IgnorePart[],~RS_IgnoreForRescale[],~RS_RescaleOnlyPlumes[],#RS_RescaleFactor[>0],#bulkheadProfiles[*],#RS_BHProfile1Numeric[>6.5625],#RS_BHProfile1Numeric[<8.8]]:FOR[RealismSimplifiedRescale]
{
	%RS_BHProfile1 = size5
	!RS_BHProfile1Numeric = DELETE
}
@PART[*]:HAS[~RS_IgnorePart[],~RS_IgnoreForRescale[],~RS_RescaleOnlyPlumes[],#RS_RescaleFactor[>0],#bulkheadProfiles[*],#RS_BHProfile1Numeric[>8.75],#RS_BHProfile1Numeric[<12.6]]:FOR[RealismSimplifiedRescale]
{
	%RS_BHProfile1 = size6
	!RS_BHProfile1Numeric = DELETE
}
@PART[*]:HAS[~RS_IgnorePart[],~RS_IgnoreForRescale[],~RS_RescaleOnlyPlumes[],#RS_RescaleFactor[>0],#bulkheadProfiles[*],#RS_BHProfile1Numeric[>12.5],#RS_BHProfile1Numeric[<17.6]]:FOR[RealismSimplifiedRescale]
{
	%RS_BHProfile1 = size7
	!RS_BHProfile1Numeric = DELETE
}
@PART[*]:HAS[~RS_IgnorePart[],~RS_IgnoreForRescale[],~RS_RescaleOnlyPlumes[],#RS_RescaleFactor[>0],#bulkheadProfiles[*],#RS_BHProfile1Numeric[>17.5],#RS_BHProfile1Numeric[<25.1]]:FOR[RealismSimplifiedRescale]
{
	%RS_BHProfile1 = size8
	!RS_BHProfile1Numeric = DELETE
}
@PART[*]:HAS[~RS_IgnorePart[],~RS_IgnoreForRescale[],~RS_RescaleOnlyPlumes[],#RS_RescaleFactor[>0],#bulkheadProfiles[*],#RS_BHProfile1Numeric[>25]]:FOR[RealismSimplifiedRescale]
{
	%RS_BHProfile1 = size9
	!RS_BHProfile1Numeric = DELETE
}
// Bulkhead profile #2
@PART[*]:HAS[~RS_IgnorePart[],~RS_IgnoreForRescale[],~RS_RescaleOnlyPlumes[],#RS_RescaleFactor[>0],#bulkheadProfiles[*],#RS_BHProfile2Numeric[<0.4688]]:FOR[RealismSimplifiedRescale]
{
	%RS_BHProfile2 = size00
	!RS_BHProfile2Numeric = DELETE
}
@PART[*]:HAS[~RS_IgnorePart[],~RS_IgnoreForRescale[],~RS_RescaleOnlyPlumes[],#RS_RescaleFactor[>0],#bulkheadProfiles[*],#RS_BHProfile2Numeric[>0.46875],#RS_BHProfile2Numeric[<0.782]]:FOR[RealismSimplifiedRescale]
{
	%RS_BHProfile2 = size0
	!RS_BHProfile2Numeric = DELETE
}
@PART[*]:HAS[~RS_IgnorePart[],~RS_IgnoreForRescale[],~RS_RescaleOnlyPlumes[],#RS_RescaleFactor[>0],#bulkheadProfiles[*],#RS_BHProfile2Numeric[>0.78125],#RS_BHProfile2Numeric[<1.1]]:FOR[RealismSimplifiedRescale]
{
	%RS_BHProfile2 = size0p5
	!RS_BHProfile2Numeric = DELETE
}
@PART[*]:HAS[~RS_IgnorePart[],~RS_IgnoreForRescale[],~RS_RescaleOnlyPlumes[],#RS_RescaleFactor[>0],#bulkheadProfiles[*],#RS_BHProfile2Numeric[>1.09375],#RS_BHProfile2Numeric[<1.376]]:FOR[RealismSimplifiedRescale]
{
	%RS_BHProfile2 = size1
	!RS_BHProfile2Numeric = DELETE
}
@PART[*]:HAS[~RS_IgnorePart[],~RS_IgnoreForRescale[],~RS_RescaleOnlyPlumes[],#RS_RescaleFactor[>0],#bulkheadProfiles[*],#RS_BHProfile2Numeric[>1.375],#RS_BHProfile2Numeric[<1.688]]:FOR[RealismSimplifiedRescale]
{
	%RS_BHProfile2 = size1p2
	!RS_BHProfile2Numeric = DELETE
}
@PART[*]:HAS[~RS_IgnorePart[],~RS_IgnoreForRescale[],~RS_RescaleOnlyPlumes[],#RS_RescaleFactor[>0],#bulkheadProfiles[*],#RS_BHProfile2Numeric[>1.6875],#RS_BHProfile2Numeric[<2.188]]:FOR[RealismSimplifiedRescale]
{
	%RS_BHProfile2 = size1p5
	!RS_BHProfile2Numeric = DELETE
}
@PART[*]:HAS[~RS_IgnorePart[],~RS_IgnoreForRescale[],~RS_RescaleOnlyPlumes[],#RS_RescaleFactor[>0],#bulkheadProfiles[*],#RS_BHProfile2Numeric[>2.1875],#RS_BHProfile2Numeric[<2.82]]:FOR[RealismSimplifiedRescale]
{
	%RS_BHProfile2 = size2
	!RS_BHProfile2Numeric = DELETE
}
@PART[*]:HAS[~RS_IgnorePart[],~RS_IgnoreForRescale[],~RS_RescaleOnlyPlumes[],#RS_RescaleFactor[>0],#bulkheadProfiles[*],#RS_BHProfile2Numeric[>2.8125],#RS_BHProfile2Numeric[<3.44]]:FOR[RealismSimplifiedRescale]
{
	%RS_BHProfile2 = size2p5
	!RS_BHProfile2Numeric = DELETE
}
@PART[*]:HAS[~RS_IgnorePart[],~RS_IgnoreForRescale[],~RS_RescaleOnlyPlumes[],#RS_RescaleFactor[>0],#bulkheadProfiles[*],#RS_BHProfile2Numeric[>3.4375],#RS_BHProfile2Numeric[<4.1]]:FOR[RealismSimplifiedRescale]
{
	%RS_BHProfile2 = size3
	!RS_BHProfile2Numeric = DELETE
}
@PART[*]:HAS[~RS_IgnorePart[],~RS_IgnoreForRescale[],~RS_RescaleOnlyPlumes[],#RS_RescaleFactor[>0],#bulkheadProfiles[*],#RS_BHProfile2Numeric[>4],#RS_BHProfile2Numeric[<4.65]]:FOR[RealismSimplifiedRescale]
{
	%RS_BHProfile2 = size3p4
	!RS_BHProfile2Numeric = DELETE
}
@PART[*]:HAS[~RS_IgnorePart[],~RS_IgnoreForRescale[],~RS_RescaleOnlyPlumes[],#RS_RescaleFactor[>0],#bulkheadProfiles[*],#RS_BHProfile2Numeric[>4.625],#RS_BHProfile2Numeric[<5.63]]:FOR[RealismSimplifiedRescale]
{
	%RS_BHProfile2 = size4
	!RS_BHProfile2Numeric = DELETE
}
@PART[*]:HAS[~RS_IgnorePart[],~RS_IgnoreForRescale[],~RS_RescaleOnlyPlumes[],#RS_RescaleFactor[>0],#bulkheadProfiles[*],#RS_BHProfile2Numeric[>5.3125],#RS_BHProfile2Numeric[<6.565]]:FOR[RealismSimplifiedRescale]
{
	%RS_BHProfile2 = size4p5
	!RS_BHProfile2Numeric = DELETE
}
@PART[*]:HAS[~RS_IgnorePart[],~RS_IgnoreForRescale[],~RS_RescaleOnlyPlumes[],#RS_RescaleFactor[>0],#bulkheadProfiles[*],#RS_BHProfile2Numeric[>6.5625],#RS_BHProfile2Numeric[<8.8]]:FOR[RealismSimplifiedRescale]
{
	%RS_BHProfile2 = size5
	!RS_BHProfile2Numeric = DELETE
}
@PART[*]:HAS[~RS_IgnorePart[],~RS_IgnoreForRescale[],~RS_RescaleOnlyPlumes[],#RS_RescaleFactor[>0],#bulkheadProfiles[*],#RS_BHProfile2Numeric[>8.75],#RS_BHProfile2Numeric[<12.6]]:FOR[RealismSimplifiedRescale]
{
	%RS_BHProfile2 = size6
	!RS_BHProfile2Numeric = DELETE
}
@PART[*]:HAS[~RS_IgnorePart[],~RS_IgnoreForRescale[],~RS_RescaleOnlyPlumes[],#RS_RescaleFactor[>0],#bulkheadProfiles[*],#RS_BHProfile2Numeric[>12.5],#RS_BHProfile2Numeric[<17.6]]:FOR[RealismSimplifiedRescale]
{
	%RS_BHProfile2 = size7
	!RS_BHProfile2Numeric = DELETE
}
@PART[*]:HAS[~RS_IgnorePart[],~RS_IgnoreForRescale[],~RS_RescaleOnlyPlumes[],#RS_RescaleFactor[>0],#bulkheadProfiles[*],#RS_BHProfile2Numeric[>17.5],#RS_BHProfile2Numeric[<25.1]]:FOR[RealismSimplifiedRescale]
{
	%RS_BHProfile2 = size8
	!RS_BHProfile2Numeric = DELETE
}
@PART[*]:HAS[~RS_IgnorePart[],~RS_IgnoreForRescale[],~RS_RescaleOnlyPlumes[],#RS_RescaleFactor[>0],#bulkheadProfiles[*],#RS_BHProfile2Numeric[>25]]:FOR[RealismSimplifiedRescale]
{
	%RS_BHProfile2 = size9
	!RS_BHProfile2Numeric = DELETE
}
// Bulkhead profile #3
@PART[*]:HAS[~RS_IgnorePart[],~RS_IgnoreForRescale[],~RS_RescaleOnlyPlumes[],#RS_RescaleFactor[>0],#bulkheadProfiles[*],#RS_BHProfile3Numeric[<0.4688]]:FOR[RealismSimplifiedRescale]
{
	%RS_BHProfile3 = size00
	!RS_BHProfile3Numeric = DELETE
}
@PART[*]:HAS[~RS_IgnorePart[],~RS_IgnoreForRescale[],~RS_RescaleOnlyPlumes[],#RS_RescaleFactor[>0],#bulkheadProfiles[*],#RS_BHProfile3Numeric[>0.46875],#RS_BHProfile3Numeric[<0.782]]:FOR[RealismSimplifiedRescale]
{
	%RS_BHProfile3 = size0
	!RS_BHProfile3Numeric = DELETE
}
@PART[*]:HAS[~RS_IgnorePart[],~RS_IgnoreForRescale[],~RS_RescaleOnlyPlumes[],#RS_RescaleFactor[>0],#bulkheadProfiles[*],#RS_BHProfile3Numeric[>0.78125],#RS_BHProfile3Numeric[<1.1]]:FOR[RealismSimplifiedRescale]
{
	%RS_BHProfile3 = size0p5
	!RS_BHProfile3Numeric = DELETE
}
@PART[*]:HAS[~RS_IgnorePart[],~RS_IgnoreForRescale[],~RS_RescaleOnlyPlumes[],#RS_RescaleFactor[>0],#bulkheadProfiles[*],#RS_BHProfile3Numeric[>1.09375],#RS_BHProfile3Numeric[<1.376]]:FOR[RealismSimplifiedRescale]
{
	%RS_BHProfile3 = size1
	!RS_BHProfile3Numeric = DELETE
}
@PART[*]:HAS[~RS_IgnorePart[],~RS_IgnoreForRescale[],~RS_RescaleOnlyPlumes[],#RS_RescaleFactor[>0],#bulkheadProfiles[*],#RS_BHProfile3Numeric[>1.375],#RS_BHProfile3Numeric[<1.688]]:FOR[RealismSimplifiedRescale]
{
	%RS_BHProfile3 = size1p2
	!RS_BHProfile3Numeric = DELETE
}
@PART[*]:HAS[~RS_IgnorePart[],~RS_IgnoreForRescale[],~RS_RescaleOnlyPlumes[],#RS_RescaleFactor[>0],#bulkheadProfiles[*],#RS_BHProfile3Numeric[>1.6875],#RS_BHProfile3Numeric[<2.188]]:FOR[RealismSimplifiedRescale]
{
	%RS_BHProfile3 = size1p5
	!RS_BHProfile3Numeric = DELETE
}
@PART[*]:HAS[~RS_IgnorePart[],~RS_IgnoreForRescale[],~RS_RescaleOnlyPlumes[],#RS_RescaleFactor[>0],#bulkheadProfiles[*],#RS_BHProfile3Numeric[>2.1875],#RS_BHProfile3Numeric[<2.82]]:FOR[RealismSimplifiedRescale]
{
	%RS_BHProfile3 = size2
	!RS_BHProfile3Numeric = DELETE
}
@PART[*]:HAS[~RS_IgnorePart[],~RS_IgnoreForRescale[],~RS_RescaleOnlyPlumes[],#RS_RescaleFactor[>0],#bulkheadProfiles[*],#RS_BHProfile3Numeric[>2.8125],#RS_BHProfile3Numeric[<3.44]]:FOR[RealismSimplifiedRescale]
{
	%RS_BHProfile3 = size2p5
	!RS_BHProfile3Numeric = DELETE
}
@PART[*]:HAS[~RS_IgnorePart[],~RS_IgnoreForRescale[],~RS_RescaleOnlyPlumes[],#RS_RescaleFactor[>0],#bulkheadProfiles[*],#RS_BHProfile3Numeric[>3.4375],#RS_BHProfile3Numeric[<4.1]]:FOR[RealismSimplifiedRescale]
{
	%RS_BHProfile3 = size3
	!RS_BHProfile3Numeric = DELETE
}
@PART[*]:HAS[~RS_IgnorePart[],~RS_IgnoreForRescale[],~RS_RescaleOnlyPlumes[],#RS_RescaleFactor[>0],#bulkheadProfiles[*],#RS_BHProfile3Numeric[>4],#RS_BHProfile3Numeric[<4.65]]:FOR[RealismSimplifiedRescale]
{
	%RS_BHProfile3 = size3p4
	!RS_BHProfile3Numeric = DELETE
}
@PART[*]:HAS[~RS_IgnorePart[],~RS_IgnoreForRescale[],~RS_RescaleOnlyPlumes[],#RS_RescaleFactor[>0],#bulkheadProfiles[*],#RS_BHProfile3Numeric[>4.625],#RS_BHProfile3Numeric[<5.63]]:FOR[RealismSimplifiedRescale]
{
	%RS_BHProfile3 = size4
	!RS_BHProfile3Numeric = DELETE
}
@PART[*]:HAS[~RS_IgnorePart[],~RS_IgnoreForRescale[],~RS_RescaleOnlyPlumes[],#RS_RescaleFactor[>0],#bulkheadProfiles[*],#RS_BHProfile3Numeric[>5.3125],#RS_BHProfile3Numeric[<6.565]]:FOR[RealismSimplifiedRescale]
{
	%RS_BHProfile3 = size4p5
	!RS_BHProfile3Numeric = DELETE
}
@PART[*]:HAS[~RS_IgnorePart[],~RS_IgnoreForRescale[],~RS_RescaleOnlyPlumes[],#RS_RescaleFactor[>0],#bulkheadProfiles[*],#RS_BHProfile3Numeric[>6.5625],#RS_BHProfile3Numeric[<8.8]]:FOR[RealismSimplifiedRescale]
{
	%RS_BHProfile3 = size5
	!RS_BHProfile3Numeric = DELETE
}
@PART[*]:HAS[~RS_IgnorePart[],~RS_IgnoreForRescale[],~RS_RescaleOnlyPlumes[],#RS_RescaleFactor[>0],#bulkheadProfiles[*],#RS_BHProfile3Numeric[>8.75],#RS_BHProfile3Numeric[<12.6]]:FOR[RealismSimplifiedRescale]
{
	%RS_BHProfile3 = size6
	!RS_BHProfile3Numeric = DELETE
}
@PART[*]:HAS[~RS_IgnorePart[],~RS_IgnoreForRescale[],~RS_RescaleOnlyPlumes[],#RS_RescaleFactor[>0],#bulkheadProfiles[*],#RS_BHProfile3Numeric[>12.5],#RS_BHProfile3Numeric[<17.6]]:FOR[RealismSimplifiedRescale]
{
	%RS_BHProfile3 = size7
	!RS_BHProfile3Numeric = DELETE
}
@PART[*]:HAS[~RS_IgnorePart[],~RS_IgnoreForRescale[],~RS_RescaleOnlyPlumes[],#RS_RescaleFactor[>0],#bulkheadProfiles[*],#RS_BHProfile3Numeric[>17.5],#RS_BHProfile3Numeric[<25.1]]:FOR[RealismSimplifiedRescale]
{
	%RS_BHProfile3 = size8
	!RS_BHProfile3Numeric = DELETE
}
@PART[*]:HAS[~RS_IgnorePart[],~RS_IgnoreForRescale[],~RS_RescaleOnlyPlumes[],#RS_RescaleFactor[>0],#bulkheadProfiles[*],#RS_BHProfile3Numeric[>25]]:FOR[RealismSimplifiedRescale]
{
	%RS_BHProfile3 = size9
	!RS_BHProfile3Numeric = DELETE
}

// Remove empty bulkheadProfiles
@PART[*]:HAS[~RS_IgnorePart[],~RS_IgnoreForRescale[],~RS_RescaleOnlyPlumes[],#RS_RescaleFactor[>0],#bulkheadProfiles[*],#RS_BHProfile2[*]]:FOR[RealismSimplifiedRescale]
{
	@RS_BHProfile2 ^= :^$:EXTERMINATE:
}
@PART[*]:HAS[~RS_IgnorePart[],~RS_IgnoreForRescale[],~RS_RescaleOnlyPlumes[],#RS_RescaleFactor[>0],#bulkheadProfiles[*],#RS_BHProfile2[EXTERMINATE]]:FOR[RealismSimplifiedRescale]
{
	!RS_BHProfile2 = DELETE
}
@PART[*]:HAS[~RS_IgnorePart[],~RS_IgnoreForRescale[],~RS_RescaleOnlyPlumes[],#RS_RescaleFactor[>0],#bulkheadProfiles[*],#RS_BHProfile3[*]]:FOR[RealismSimplifiedRescale]
{
	@RS_BHProfile3 ^= :^$:EXTERMINATE:
}
@PART[*]:HAS[~RS_IgnorePart[],~RS_IgnoreForRescale[],~RS_RescaleOnlyPlumes[],#RS_RescaleFactor[>0],#bulkheadProfiles[*],#RS_BHProfile3[EXTERMINATE]]:FOR[RealismSimplifiedRescale]
{
	!RS_BHProfile3 = DELETE
}

// Set bulkheadProfiles to new value(s)
@PART[*]:HAS[~RS_IgnorePart[],~RS_IgnoreForRescale[],~RS_RescaleOnlyPlumes[],#RS_RescaleFactor[>0],#bulkheadProfiles[*],#RS_BHProfile1[*],#RS_BHProfile2[*],#RS_BHProfile3[*]]:FOR[RealismSimplifiedRescale]
{
	@bulkheadProfiles = #$RS_BHProfile1$, $RS_BHProfile2$, $RS_BHProfile3$
}
@PART[*]:HAS[~RS_IgnorePart[],~RS_IgnoreForRescale[],~RS_RescaleOnlyPlumes[],#RS_RescaleFactor[>0],#bulkheadProfiles[*],#RS_BHProfile1[*],#RS_BHProfile2[*],~RS_BHProfile3[]]:FOR[RealismSimplifiedRescale]
{
	@bulkheadProfiles = #$RS_BHProfile1$, $RS_BHProfile2$
}
@PART[*]:HAS[~RS_IgnorePart[],~RS_IgnoreForRescale[],~RS_RescaleOnlyPlumes[],#RS_RescaleFactor[>0],#bulkheadProfiles[*],#RS_BHProfile1[*],~RS_BHProfile2[],#RS_BHProfile3[*]]:FOR[RealismSimplifiedRescale]
{
	@bulkheadProfiles = #$RS_BHProfile1$, $RS_BHProfile3$
}
@PART[*]:HAS[~RS_IgnorePart[],~RS_IgnoreForRescale[],~RS_RescaleOnlyPlumes[],#RS_RescaleFactor[>0],#bulkheadProfiles[*],~RS_BHProfile1[],#RS_BHProfile2[*],#RS_BHProfile3[*]]:FOR[RealismSimplifiedRescale]
{
	@bulkheadProfiles = #$RS_BHProfile2$, $RS_BHProfile3$
}
@PART[*]:HAS[~RS_IgnorePart[],~RS_IgnoreForRescale[],~RS_RescaleOnlyPlumes[],#RS_RescaleFactor[>0],#bulkheadProfiles[*],#RS_BHProfile1[*],~RS_BHProfile2[],~RS_BHProfile3[]]:FOR[RealismSimplifiedRescale]
{
	@bulkheadProfiles = #$RS_BHProfile1$
}
@PART[*]:HAS[~RS_IgnorePart[],~RS_IgnoreForRescale[],~RS_RescaleOnlyPlumes[],#RS_RescaleFactor[>0],#bulkheadProfiles[*],~RS_BHProfile1[],#RS_BHProfile2[*],~RS_BHProfile3[]]:FOR[RealismSimplifiedRescale]
{
	@bulkheadProfiles = #$RS_BHProfile2$
}
@PART[*]:HAS[~RS_IgnorePart[],~RS_IgnoreForRescale[],~RS_RescaleOnlyPlumes[],#RS_RescaleFactor[>0],#bulkheadProfiles[*],~RS_BHProfile1[],~RS_BHProfile2[],#RS_BHProfile3[*]]:FOR[RealismSimplifiedRescale]
{
	@bulkheadProfiles = #$RS_BHProfile3$
}


// ===============================================================================
// Plumes
// ===============================================================================

// Stock effects
@PART[*]:HAS[~RS_IgnorePart[],~RS_IgnoreForRescale[],#RS_RescaleFactor[>0],@EFFECTS]:FOR[RealismSimplifiedRescale]
{
	@EFFECTS
	{
		@running_closed
		{
			@PREFAB_PARTICLE:HAS[!localScale[]],*
			{
				localScale = 1.0, 1.0, 1.0
			}
			@MODEL_MULTI_PARTICLE:HAS[!localScale[]],*
			{
				localScale = 1.0, 1.0, 1.0
			}
			@MODEL_PARTICLE:HAS[!localScale[]],*
			{
				localScale = 1.0, 1.0, 1.0
			}
		}
		@engage
		{
			@PREFAB_PARTICLE:HAS[!localScale[]],*
			{
				localScale = 1.0, 1.0, 1.0
			}
			@MODEL_MULTI_PARTICLE:HAS[!localScale[]],*
			{
				localScale = 1.0, 1.0, 1.0
			}
			@MODEL_PARTICLE:HAS[!localScale[]],*
			{
				localScale = 1.0, 1.0, 1.0
			}
		}
		@flameout
		{
			@PREFAB_PARTICLE:HAS[!localScale[]],*
			{
				localScale = 1.0, 1.0, 1.0
			}
			@MODEL_MULTI_PARTICLE:HAS[!localScale[]],*
			{
				localScale = 1.0, 1.0, 1.0
			}
			@MODEL_PARTICLE:HAS[!localScale[]],*
			{
				localScale = 1.0, 1.0, 1.0
			}
		}
	}
}
@PART[*]:HAS[~RS_IgnorePart[],~RS_IgnoreForRescale[],#RS_RescaleFactor[>0],@EFFECTS]:FOR[RealismSimplifiedRescale]
{
	@EFFECTS
	{
		@running_closed
		{
			@PREFAB_PARTICLE:HAS[#localScale[*]],*
			{
				@localScale[0] *= #$/RS_RescaleFactor$
				@localScale[1] *= #$/RS_RescaleFactor$
				@localScale[2] *= #$/RS_RescaleFactor$
			}
			@MODEL_MULTI_PARTICLE:HAS[#localScale[*]],*
			{
				@localScale[0] *= #$/RS_RescaleFactor$
				@localScale[1] *= #$/RS_RescaleFactor$
				@localScale[2] *= #$/RS_RescaleFactor$
			}
			@MODEL_PARTICLE:HAS[#localScale[*]],*
			{
				@localScale[0] *= #$/RS_RescaleFactor$
				@localScale[1] *= #$/RS_RescaleFactor$
				@localScale[2] *= #$/RS_RescaleFactor$
			}
		}
		@engage
		{
			@PREFAB_PARTICLE:HAS[#localScale[*]],*
			{
				@localScale[0] *= #$/RS_RescaleFactor$
				@localScale[1] *= #$/RS_RescaleFactor$
				@localScale[2] *= #$/RS_RescaleFactor$
			}
			@MODEL_MULTI_PARTICLE:HAS[#localScale[*]],*
			{
				@localScale[0] *= #$/RS_RescaleFactor$
				@localScale[1] *= #$/RS_RescaleFactor$
				@localScale[2] *= #$/RS_RescaleFactor$
			}
			@MODEL_PARTICLE:HAS[#localScale[*]],*
			{
				@localScale[0] *= #$/RS_RescaleFactor$
				@localScale[1] *= #$/RS_RescaleFactor$
				@localScale[2] *= #$/RS_RescaleFactor$
			}
		}
		@flameout
		{
			@PREFAB_PARTICLE:HAS[#localScale[*]],*
			{
				@localScale[0] *= #$/RS_RescaleFactor$
				@localScale[1] *= #$/RS_RescaleFactor$
				@localScale[2] *= #$/RS_RescaleFactor$
			}
			@MODEL_MULTI_PARTICLE:HAS[#localScale[*]],*
			{
				@localScale[0] *= #$/RS_RescaleFactor$
				@localScale[1] *= #$/RS_RescaleFactor$
				@localScale[2] *= #$/RS_RescaleFactor$
			}
			@MODEL_PARTICLE:HAS[#localScale[*]],*
			{
				@localScale[0] *= #$/RS_RescaleFactor$
				@localScale[1] *= #$/RS_RescaleFactor$
				@localScale[2] *= #$/RS_RescaleFactor$
			}
		}
	}
}
@PART[*]:HAS[~RS_IgnorePart[],~RS_IgnoreForRescale[],#RS_RescaleFactor[>0],@EFFECTS]:FOR[RealismSimplifiedRescale]
{
	@EFFECTS
	{
		@running_closed
		{
			@PREFAB_PARTICLE:HAS[#localPosition[*]],*
			{
				@localPosition[0] *= #$/RS_RescaleFactor$
				@localPosition[1] *= #$/RS_RescaleFactor$
				@localPosition[2] *= #$/RS_RescaleFactor$
			}
			@MODEL_MULTI_PARTICLE:HAS[#localPosition[*]],*
			{
				@localPosition[0] *= #$/RS_RescaleFactor$
				@localPosition[1] *= #$/RS_RescaleFactor$
				@localPosition[2] *= #$/RS_RescaleFactor$
			}
			@MODEL_PARTICLE:HAS[#localPosition[*]],*
			{
				@localPosition[0] *= #$/RS_RescaleFactor$
				@localPosition[1] *= #$/RS_RescaleFactor$
				@localPosition[2] *= #$/RS_RescaleFactor$
			}
		}
		@engage
		{
			@PREFAB_PARTICLE:HAS[#localPosition[*]],*
			{
				@localPosition[0] *= #$/RS_RescaleFactor$
				@localPosition[1] *= #$/RS_RescaleFactor$
				@localPosition[2] *= #$/RS_RescaleFactor$
			}
			@MODEL_MULTI_PARTICLE:HAS[#localPosition[*]],*
			{
				@localPosition[0] *= #$/RS_RescaleFactor$
				@localPosition[1] *= #$/RS_RescaleFactor$
				@localPosition[2] *= #$/RS_RescaleFactor$
			}
			@MODEL_PARTICLE:HAS[#localPosition[*]],*
			{
				@localPosition[0] *= #$/RS_RescaleFactor$
				@localPosition[1] *= #$/RS_RescaleFactor$
				@localPosition[2] *= #$/RS_RescaleFactor$
			}
		}
		@flameout
		{
			@PREFAB_PARTICLE:HAS[#localPosition[*]],*
			{
				@localPosition[0] *= #$/RS_RescaleFactor$
				@localPosition[1] *= #$/RS_RescaleFactor$
				@localPosition[2] *= #$/RS_RescaleFactor$
			}
			@MODEL_MULTI_PARTICLE:HAS[#localPosition[*]],*
			{
				@localPosition[0] *= #$/RS_RescaleFactor$
				@localPosition[1] *= #$/RS_RescaleFactor$
				@localPosition[2] *= #$/RS_RescaleFactor$
			}
			@MODEL_PARTICLE:HAS[#localPosition[*]],*
			{
				@localPosition[0] *= #$/RS_RescaleFactor$
				@localPosition[1] *= #$/RS_RescaleFactor$
				@localPosition[2] *= #$/RS_RescaleFactor$
			}
		}
	}
}


// Waterfall plumes
// Additional coeff for WF plumes rescale
@PART[*]:HAS[~RS_IgnorePart[],~RS_IgnoreForRescale[],~RS_IgnoreForPlumesRescale[],#RS_RescaleFactor[>0],~RS_RescaleFactorWaterfall[]]:AFTER[zzzzzRealismSimplifiedPlumes]
{
	RS_RescaleFactorWaterfall = #$RS_RescaleFactor$
}
// Position vector
//@PART[*]:HAS[~RS_IgnorePart[],~RS_IgnoreForRescale[],~RS_IgnoreForPlumesRescale[],#RS_RescaleFactorWaterfall[>0],@MODULE[ModuleWaterfallFX]:HAS[@TEMPLATE:HAS[#position[*]]]]:AFTER[zzzzzRealismSimplifiedPlumes]
//{
//	@MODULE[ModuleWaterfallFX],*
//	{
//		@TEMPLATE:HAS[#position[*]],*
//		{
//			@position[0] *= #$/RS_RescaleFactorWaterfall$
//			@position[1] *= #$/RS_RescaleFactorWaterfall$
//			@position[2] *= #$/RS_RescaleFactorWaterfall$
//		}
//	}
//}
// Scale vector
@PART[*]:HAS[~RS_IgnorePart[],~RS_IgnoreForRescale[],~RS_IgnoreForPlumesRescale[],#RS_RescaleFactorWaterfall[>0],@MODULE[ModuleWaterfallFX]:HAS[@TEMPLATE:HAS[#scale[*]]]]:AFTER[zzzzzRealismSimplifiedPlumes]
{
	@MODULE[ModuleWaterfallFX],*
	{
		@TEMPLATE:HAS[#scale[*]],*
		{
			@scale[0] *= #$/RS_RescaleFactorWaterfall$
			@scale[1] *= #$/RS_RescaleFactorWaterfall$
			@scale[2] *= #$/RS_RescaleFactorWaterfall$
		}
	}
}
// Position and scale vectors for B9PartSwitch variants
@PART[*]:HAS[~RS_IgnorePart[],~RS_IgnoreForRescale[],~RS_IgnoreForPlumesRescale[],#RS_RescaleFactorWaterfall[>0],@MODULE[ModuleWaterfallFX],@MODULE[ModuleB9PartSwitch]:HAS[@SUBTYPE[*]:HAS[@MODULE:HAS[@IDENTIFIER[ModuleWaterfallFX]]]]]:AFTER[zzzzzRealismSimplifiedPlumes]
{
	@MODULE[ModuleB9PartSwitch]:HAS[@SUBTYPE[*]:HAS[@MODULE:HAS[@IDENTIFIER[ModuleWaterfallFX]]]],*
	{
		@SUBTYPE[*],*
		{
			@MODULE:HAS[@IDENTIFIER[ModuleWaterfallFX]],*
			{
				@DATA
				{
//					@TEMPLATE:HAS[#position[*]],*
//					{
//						@position[0] *= #$/RS_RescaleFactorWaterfall$
//						@position[1] *= #$/RS_RescaleFactorWaterfall$
//						@position[2] *= #$/RS_RescaleFactorWaterfall$
//					}
					@TEMPLATE:HAS[#scale[*]],*
					{
						@scale[0] *= #$/RS_RescaleFactorWaterfall$
						@scale[1] *= #$/RS_RescaleFactorWaterfall$
						@scale[2] *= #$/RS_RescaleFactorWaterfall$
					}
				}
			}
		}
	}
}

// RealPlume plumes
// Additional coeff for RP plumes rescale
@PART[*]:HAS[~RS_IgnorePart[],~RS_IgnoreForRescale[],~RS_IgnoreForPlumesRescale[],#RS_RescaleFactor[>0],~RS_RescaleFactorRealPlume[]]:BEFORE[zRealPlume]
{
	RS_RescaleFactorRealPlume = #$RS_RescaleFactor$
}
// Scalar values scale
@PART[*]:HAS[~RS_IgnorePart[],~RS_IgnoreForRescale[],~RS_IgnoreForPlumesRescale[],#RS_RescaleFactorRealPlume[>0],@PLUME[*]]:BEFORE[zRealPlume]
{
	@PLUME[*]:HAS[#fixedScale[>0]],*
	{
		@fixedScale *= #$../RS_RescaleFactorRealPlume$
	}
	@PLUME[*]:HAS[#blazeScale[>0]],*
	{
		@blazeScale *= #$../RS_RescaleFactorRealPlume$
	}
	@PLUME[*]:HAS[#coreScale[>0]],*
	{
		@coreScale *= #$../RS_RescaleFactorRealPlume$
	}
	@PLUME[*]:HAS[#exhaustScale[>0]],*
	{
		@exhaustScale *= #$../RS_RescaleFactorRealPlume$
	}
	@PLUME[*]:HAS[#flareScale[>0]],*
	{
		@flareScale *= #$../RS_RescaleFactorRealPlume$
	}
	@PLUME[*]:HAS[#fumeScale[>0]],*
	{
		@fumeScale *= #$../RS_RescaleFactorRealPlume$
	}
	@PLUME[*]:HAS[#lampScale[>0]],*
	{
		@lampScale *= #$../RS_RescaleFactorRealPlume$
	}
	@PLUME[*]:HAS[#plumeScale[>0]],*
	{
		@plumeScale *= #$../RS_RescaleFactorRealPlume$
	}
	@PLUME[*]:HAS[#plume2Scale[>0]],*
	{
		@plume2Scale *= #$../RS_RescaleFactorRealPlume$
	}
	@PLUME[*]:HAS[#plume3Scale[>0]],*
	{
		@plume3Scale *= #$../RS_RescaleFactorRealPlume$
	}
	@PLUME[*]:HAS[#smokeScale[>0]],*
	{
		@smokeScale *= #$../RS_RescaleFactorRealPlume$
	}
	@PLUME[*]:HAS[#shockScale[>0]],*
	{
		@shockScale *= #$../RS_RescaleFactorRealPlume$
	}
	@PLUME[*]:HAS[#shockconeScale[>0]],*
	{
		@shockconeScale *= #$../RS_RescaleFactorRealPlume$
	}
	@PLUME[*]:HAS[#slagScale[>0]],*
	{
		@slagScale *= #$../RS_RescaleFactorRealPlume$
	}
	@PLUME[*]:HAS[#streamScale[>0]],*
	{
		@streamScale *= #$../RS_RescaleFactorRealPlume$
	}
}
// Vectors scale
@PART[*]:HAS[~RS_IgnorePart[],~RS_IgnoreForRescale[],~RS_IgnoreForPlumesRescale[],#RS_RescaleFactorRealPlume[>0],@PLUME[*]]:BEFORE[zRealPlume]
{
	@PLUME[*]:HAS[#localPosition[*]],*
	{
		@localPosition[0] *= #$../RS_RescaleFactorRealPlume$
		@localPosition[1] *= #$../RS_RescaleFactorRealPlume$
		@localPosition[2] *= #$../RS_RescaleFactorRealPlume$
	}
	@PLUME[*]:HAS[#blazePosition[*]],*
	{
		@blazePosition[0] *= #$../RS_RescaleFactorRealPlume$
		@blazePosition[1] *= #$../RS_RescaleFactorRealPlume$
		@blazePosition[2] *= #$../RS_RescaleFactorRealPlume$
	}
	@PLUME[*]:HAS[#corePosition[*]],*
	{
		@corePosition[0] *= #$../RS_RescaleFactorRealPlume$
		@corePosition[1] *= #$../RS_RescaleFactorRealPlume$
		@corePosition[2] *= #$../RS_RescaleFactorRealPlume$
	}
	@PLUME[*]:HAS[#exhaustPosition[*]],*
	{
		@exhaustPosition[0] *= #$../RS_RescaleFactorRealPlume$
		@exhaustPosition[1] *= #$../RS_RescaleFactorRealPlume$
		@exhaustPosition[2] *= #$../RS_RescaleFactorRealPlume$
	}
	@PLUME[*]:HAS[#flarePosition[*]],*
	{
		@flarePosition[0] *= #$../RS_RescaleFactorRealPlume$
		@flarePosition[1] *= #$../RS_RescaleFactorRealPlume$
		@flarePosition[2] *= #$../RS_RescaleFactorRealPlume$
	}
	@PLUME[*]:HAS[#fumePosition[*]],*
	{
		@fumePosition[0] *= #$../RS_RescaleFactorRealPlume$
		@fumePosition[1] *= #$../RS_RescaleFactorRealPlume$
		@fumePosition[2] *= #$../RS_RescaleFactorRealPlume$
	}
	@PLUME[*]:HAS[#lampPosition[*]],*
	{
		@lampPosition[0] *= #$../RS_RescaleFactorRealPlume$
		@lampPosition[1] *= #$../RS_RescaleFactorRealPlume$
		@lampPosition[2] *= #$../RS_RescaleFactorRealPlume$
	}
	@PLUME[*]:HAS[#plumePosition[*]],*
	{
		@plumePosition[0] *= #$../RS_RescaleFactorRealPlume$
		@plumePosition[1] *= #$../RS_RescaleFactorRealPlume$
		@plumePosition[2] *= #$../RS_RescaleFactorRealPlume$
	}
	@PLUME[*]:HAS[#plume2Position[*]],*
	{
		@plume2Position[0] *= #$../RS_RescaleFactorRealPlume$
		@plume2Position[1] *= #$../RS_RescaleFactorRealPlume$
		@plume2Position[2] *= #$../RS_RescaleFactorRealPlume$
	}
	@PLUME[*]:HAS[#plume3Position[*]],*
	{
		@plume3Position[0] *= #$../RS_RescaleFactorRealPlume$
		@plume3Position[1] *= #$../RS_RescaleFactorRealPlume$
		@plume3Position[2] *= #$../RS_RescaleFactorRealPlume$
	}
	@PLUME[*]:HAS[#smokePosition[*]],*
	{
		@smokePosition[0] *= #$../RS_RescaleFactorRealPlume$
		@smokePosition[1] *= #$../RS_RescaleFactorRealPlume$
		@smokePosition[2] *= #$../RS_RescaleFactorRealPlume$
	}
	@PLUME[*]:HAS[#shockPosition[*]],*
	{
		@shockPosition[0] *= #$../RS_RescaleFactorRealPlume$
		@shockPosition[1] *= #$../RS_RescaleFactorRealPlume$
		@shockPosition[2] *= #$../RS_RescaleFactorRealPlume$
	}
	@PLUME[*]:HAS[#shockconePosition[*]],*
	{
		@shockconePosition[0] *= #$../RS_RescaleFactorRealPlume$
		@shockconePosition[1] *= #$../RS_RescaleFactorRealPlume$
		@shockconePosition[2] *= #$../RS_RescaleFactorRealPlume$
	}
	@PLUME[*]:HAS[#slagPosition[*]],*
	{
		@slagPosition[0] *= #$../RS_RescaleFactorRealPlume$
		@slagPosition[1] *= #$../RS_RescaleFactorRealPlume$
		@slagPosition[2] *= #$../RS_RescaleFactorRealPlume$
	}
	@PLUME[*]:HAS[#streamPosition[*]],*
	{
		@streamPosition[0] *= #$../RS_RescaleFactorRealPlume$
		@streamPosition[1] *= #$../RS_RescaleFactorRealPlume$
		@streamPosition[2] *= #$../RS_RescaleFactorRealPlume$
	}
}


// ===============================================================================
// TweakScale: set new default scale for "stack" scale types
// ===============================================================================
@PART[*]:HAS[~RS_IgnorePart[],~RS_IgnoreForRescale[],~RS_RescaleOnlyPlumes[],#RS_RescaleFactor[>0],@MODULE[TweakScale]:HAS[#type[*stack*],#defaultScale[>0]]]:FOR[zzzzRealismSimplifiedRescale]
{
	@MODULE[TweakScale]:HAS[#type[*stack*],#defaultScale[>0]]
	{
		@defaultScale *= #$../RS_RescaleFactor$
	}
}
